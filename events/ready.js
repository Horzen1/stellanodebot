function _0x47c2(){const _0x36e390=['\x20times.','setName','findOne',':R>','members','>\x0a>\x20','toLocaleString','UnrespondedDuration','green','OrBIQ','addComponents','diff','alert','channels','402488VnPyEH','ticketCloseTitle','282262EkDIcC','$closedAt','cgGka','ticketClose','deletedCount','exit','claimUser','averageResponse','ActivityType','discord.js','catch','\x20\x20-\x20Respond\x20to\x20tickets\x20from\x20the\x20dashboard','gray','connect','user','findOneAndUpdate','\x20day','reviews','â€¢\x20Dashboard\x20addon\x20has\x20been\x20detected\x20and\x20successfully\x20loaded.','VofBY','totalMessages','Time','staff','30DBCWEg','OSmkn','strictQuery','deleteMany','join','setMonth','Message','stack','Link','\x20documents\x20deleted\x20for\x20collection:\x20','\x1b[33m%s\x1b[0m','[ERROR]\x20InactivityMonitor\x20encountered\x20an\x20error:\x20','channelID','WeBcW','MongoURI','10255217JhLeMQ','milliseconds','time','averageResponseTime','discord.gg/plexdev','\x20is\x20now\x20Online!','send','date','appendFile','averageCompletion','cyan','\x20\x20-\x20Manage\x20tickets\x20from\x20the\x20dashboard','exports','AverageRating','plexdevelopment.net/products','$ticketCreationDate','error','MemberCount','>\x20<@!','lastMessageSent','totalTickets','24426fNMqYh','OpenTickets','10MsytWA','cache','8860775VkfhDk','Uoeua','red','permission\x20denied','oflLd','setThumbnail','underline','authentication\x20failed','Plex\x20Tickets','\x1b[31m%s\x1b[0m','DMMessage','floor','â€¢\x20Explore\x20these\x20features\x20and\x20more\x20by\x20purchasing\x20the\x20dashboard\x20addon\x20at\x20','emit','KrMHn','â€¢\x20A\x20total\x20of\x20','averageRating','AverageResponse','TicketAlert','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','GuildID','viewTranscriptButton','setDescription','modelName','sQBji','&dateNow=','setTimestamp','push','Unknown','Locale','InactiveTime','some','AverageCompletion','en-US','\x20tickets\x20have\x20been\x20created.','â€¢\x20There\x20are\x20currently\x20','2888dcwcqa','ChannelName','checkDashboard','Enabled','Administrator','XkXKl','lPSca','memberCount','N/A','EmbedBuilder','average','UblUU','log','\x20not\x20found.','xrdru','png','mongoose','$totalResponseTime','setURL','bold','gDuxn','plexdevelopment.net/tos','BotActivitySettings','username','includes','LogChannel','21ZHlWCF','cleanUpData','Type','forEach','./config.yml','OXFUN','slice','users','\x20\x20-\x20View\x20tickets\x20on\x20the\x20dashboard\x20in\x20real-time','TicketTranscriptSettings','54364pJkqbg','closeNotificationTime','save','Statuses','EmbedColors','Authentication\x20failed.\x20Make\x20sure\x20to\x20check\x20if\x20you\x20entered\x20the\x20correct\x20username\x20and\x20password\x20in\x20the\x20connection\x20URL.','displayAvatarURL','[ERROR]\x20The\x20guild\x20ID\x20specified\x20in\x20the\x20config\x20is\x20invalid\x20or\x20the\x20bot\x20is\x20not\x20in\x20the\x20server!\x0aYou\x20can\x20use\x20the\x20link\x20below\x20to\x20invite\x20the\x20bot\x20to\x20your\x20server:\x0ahttps://discord.com/api/oauth2/authorize?client_id=','iyPGZ','MessagesRequirement','CheckInterval','saveTranscriptAlertCmd','sendUserDM','checkConfig','version','Since\x20this\x20is\x20your\x20first\x20time\x20starting\x20the\x20bot,\x20Here\x20is\x20some\x20important\x20information:','Statistics','moment-timezone','InactivityMonitor','â€¢\x20The\x20bot\x20has\x20been\x20started\x20a\x20total\x20of\x20','openTickets','36010620irDlpB','aggregate','yellow','filter','setColor','[ERROR]\x20The\x20bot\x20doesn\x27t\x20have\x20enough\x20permissions!\x20Please\x20give\x20the\x20bot\x20ADMINISTRATOR\x20permissions\x20in\x20your\x20server\x20or\x20it\x20won\x27t\x20function\x20properly!','fwBsD','TotalTickets','length','getHolidayMessage','6hyNJtm','\x0a\x0a[','\x20minute','ChannelID','\x20hour','ActionRowBuilder','components','Error\x20checking\x20and\x20updating\x20ticket\x20statuses\x20on\x20bot\x20start:','ButtonColors','message','name','replace','leave','[ERROR]\x20MongoDB\x20Connection\x20String\x20is\x20not\x20specified\x20in\x20the\x20config!\x20(MongoURI)','addFields','â€¢\x20Use\x20code\x20','\x20second','get','logsTicketAuthor'];_0x47c2=function(){return _0x36e390;};return _0x47c2();}const _0x55c796=_0xfa7f;(function(_0x30d409,_0x24d48c){const _0x5a2006=_0xfa7f,_0x551932=_0x30d409();while(!![]){try{const _0x42cda3=-parseInt(_0x5a2006(0x25d))/0x1+-parseInt(_0x5a2006(0x25f))/0x2*(-parseInt(_0x5a2006(0x213))/0x3)+parseInt(_0x5a2006(0x21d))/0x4*(parseInt(_0x5a2006(0x276))/0x5)+parseInt(_0x5a2006(0x23c))/0x6*(parseInt(_0x5a2006(0x285))/0x7)+parseInt(_0x5a2006(0x1f9))/0x8*(parseInt(_0x5a2006(0x1d1))/0x9)+parseInt(_0x5a2006(0x1d3))/0xa*(parseInt(_0x5a2006(0x1d5))/0xb)+-parseInt(_0x5a2006(0x232))/0xc;if(_0x42cda3===_0x24d48c)break;else _0x551932['push'](_0x551932['shift']());}catch(_0x78d4ac){_0x551932['push'](_0x551932['shift']());}}}(_0x47c2,0xdfbb0));function _0xfa7f(_0x3108e3,_0x430958){const _0x47c2c2=_0x47c2();return _0xfa7f=function(_0xfa7f5b,_0x225940){_0xfa7f5b=_0xfa7f5b-0x1cc;let _0x39b0d0=_0x47c2c2[_0xfa7f5b];return _0x39b0d0;},_0xfa7f(_0x3108e3,_0x430958);}const fs=require('fs'),yaml=require('js-yaml'),config=yaml['load'](fs['readFileSync'](_0x55c796(0x217),'utf8')),color=require('ansi-colors'),botVersion=require('../package.json'),utils=require('../utils.js'),Discord=require(_0x55c796(0x268)),{startBot}=require('../index.js'),ms=require('ms'),moment=require(_0x55c796(0x22e)),mongoose=require(_0x55c796(0x209)),guildModel=require('../models/guildModel'),ticketModel=require('../models/ticketModel'),reviewsModel=require('../models/reviewsModel'),dashboardModel=require('../models/dashboardModel');module[_0x55c796(0x291)]=async _0xd705ff=>{const _0x423434=_0x55c796;let _0x271c80=await _0xd705ff['guilds'][_0x423434(0x1d4)][_0x423434(0x24d)](config[_0x423434(0x1e9)]);!_0x271c80&&(await console[_0x423434(0x205)]('\x1b[31m%s\x1b[0m',_0x423434(0x224)+_0xd705ff[_0x423434(0x26d)]['id']+'&permissions=8&scope=bot%20applications.commands'),await process['exit']());const _0x131747=async()=>{const _0x126f62=_0x423434;try{if('cFIZn'==='cFIZn'){if(config[_0x126f62(0x284)])await mongoose['set'](_0x126f62(0x278),![]);if(config['MongoURI'])'lblfo'!=='uPJjq'?await mongoose[_0x126f62(0x26c)](config[_0x126f62(0x284)]):(_0x47fcdd['log'](''),_0x32d9e2[_0x126f62(0x205)](''),_0x2a5405[_0x126f62(0x205)]('Thank\x20you\x20for\x20choosing\x20'+_0x566465[_0x126f62(0x234)]('Plex\x20Tickets')+'!'),_0x2d75c7['log']('Since\x20this\x20is\x20your\x20first\x20time\x20starting\x20the\x20bot,\x20Here\x20is\x20some\x20important\x20information:'),_0x3e6d1a[_0x126f62(0x205)](''),_0x37abb2['log']('If\x20you\x20need\x20any\x20help,\x20Create\x20a\x20ticket\x20in\x20our\x20discord\x20server.'),_0x57c552[_0x126f62(0x205)]('You\x20can\x20also\x20look\x20at\x20our\x20documentation\x20for\x20help,\x20'+_0x524a85['yellow']('docs.plexdevelopment.net')),_0x789944[_0x126f62(0x205)](''),_0x241948['log'](''+_0x4b15a3[_0x126f62(0x20c)]['red']('WARNING:\x0a\x20Leaking,\x20redistributing\x20or\x20re-selling\x20any\x20of\x20our\x20products\x20is\x20not\x20allowed\x20\x0aYour\x20actions\x20may\x20have\x20legal\x20consequences\x20if\x20you\x20violate\x20our\x20terms.\x0aif\x20you\x20are\x20found\x20doing\x20it,\x20your\x20license\x20will\x20be\x20permanently\x20disabled!')),_0x30d84c[_0x126f62(0x205)]('By\x20using\x20this\x20bot\x20you\x20agree\x20to\x20all\x20terms\x20located\x20here,\x20'+_0x2daac0['yellow']('plexdevelopment.net/tos')));else throw new Error('[ERROR]\x20MongoDB\x20Connection\x20String\x20is\x20not\x20specified\x20in\x20the\x20config!\x20(MongoURI)');}else _0x162671[_0x126f62(0x1cc)]('Error\x20cleaning\x20up\x20old\x20documents\x20for\x20collection\x20'+_0x435559[_0x126f62(0x1ec)]+':',_0x5ab459);}catch(_0x5c9dee){console['error']('\x1b[31m%s\x1b[0m','[ERROR]\x20Failed\x20to\x20connect\x20to\x20MongoDB:\x20'+_0x5c9dee[_0x126f62(0x245)]+'\x0a'+_0x5c9dee['stack']);if(_0x5c9dee[_0x126f62(0x245)]['includes'](_0x126f62(0x1dc)))await console[_0x126f62(0x1cc)](_0x126f62(0x222)),await process[_0x126f62(0x264)](0x1);else{if(_0x5c9dee[_0x126f62(0x245)][_0x126f62(0x211)]('network\x20error'))await console['error']('Network\x20error.\x20Make\x20sure\x20the\x20MongoDB\x20server\x20is\x20reachable\x20and\x20the\x20connection\x20URL\x20is\x20correct.'),await process[_0x126f62(0x264)](0x1);else _0x5c9dee[_0x126f62(0x245)]['includes'](_0x126f62(0x1d8))?_0x126f62(0x261)!=='cgGka'?(_0x1a0a9b[_0x126f62(0x248)](),_0x5ae6b8[_0x126f62(0x205)](_0x126f62(0x1de),'[INFO]\x20Someone\x20tried\x20to\x20invite\x20the\x20bot\x20to\x20another\x20server!\x20I\x20automatically\x20left\x20it\x20('+_0x3de3b2[_0x126f62(0x246)]+')')):(await console[_0x126f62(0x1cc)]('Permission\x20denied.\x20Make\x20sure\x20the\x20MongoDB\x20cluster\x20has\x20the\x20necessary\x20permissions\x20to\x20read\x20and\x20write.'),await process['exit'](0x1)):(await console[_0x126f62(0x1cc)]('An\x20unexpected\x20error\x20occurred.\x20Check\x20the\x20MongoDB\x20connection\x20URL\x20and\x20credentials.'),await process['exit'](0x1));}}};_0x131747();const _0x34f0c7=await guildModel['findOne']({'guildID':config[_0x423434(0x1e9)]});if(!_0x34f0c7||_0x34f0c7?.['length']==0x0){const _0x15f1e1=new guildModel({'guildID':config[_0x423434(0x1e9)],'totalTickets':0x0,'openTickets':0x0,'totalClaims':0x0,'totalMessages':0x0,'totalSuggestions':0x0,'totalSuggestionUpvotes':0x0,'totalSuggestionDownvotes':0x0,'totalReviews':0x0,'averageRating':0x0,'timesBotStarted':0x0,'averageCompletion':_0x423434(0x201),'averageResponse':_0x423434(0x201),'ratings':[]});await _0x15f1e1['save']();}const _0x3ece0c=await guildModel[_0x423434(0x251)]({'guildID':config['GuildID']}),_0x95f6e9=await ticketModel['countDocuments']({'status':'Open','guildID':config['GuildID']});_0x3ece0c[_0x423434(0x231)]!==_0x95f6e9&&(_0x3ece0c['openTickets']=_0x95f6e9,await _0x3ece0c[_0x423434(0x21f)]());let _0x337403;switch(config[_0x423434(0x20f)][_0x423434(0x215)]){case'WATCHING':_0x337403=Discord['ActivityType']['Watching'];break;case'PLAYING':_0x337403=Discord['ActivityType']['Playing'];break;case'COMPETING':_0x337403=Discord[_0x423434(0x267)]['Competing'];break;}if(config[_0x423434(0x20f)]['Enabled']&&config['BotActivitySettings']['Statuses']?.['length']>0x0){let _0x302221=0x0;const _0xaa76e3=async()=>{const _0x5d60a8=_0x423434;_0xd705ff['user']['setActivity'](config['BotActivitySettings']['Statuses'][_0x302221]['replace'](/{total-users}/g,''+_0x271c80['memberCount']['toLocaleString']('en-US'))['replace'](/{total-tickets}/g,''+_0x3ece0c['totalTickets'][_0x5d60a8(0x255)]('en-US'))[_0x5d60a8(0x247)](/{total-channels}/g,''+_0xd705ff['channels']['cache']['size'])[_0x5d60a8(0x247)](/{open-tickets}/g,''+_0x3ece0c[_0x5d60a8(0x231)]['toLocaleString'](_0x5d60a8(0x1f6)))['replace'](/{total-messages}/g,''+_0x3ece0c['totalMessages']['toLocaleString'](_0x5d60a8(0x1f6)))['replace'](/{average-rating}/g,''+await utils[_0x5d60a8(0x1e5)](_0xd705ff))[_0x5d60a8(0x247)](/{average-completion}/g,''+_0x3ece0c[_0x5d60a8(0x28e)])[_0x5d60a8(0x247)](/{average-response}/g,''+_0x3ece0c['averageResponse']),{'type':_0x337403}),_0x302221=(_0x302221+0x1)%config['BotActivitySettings']['Statuses'][_0x5d60a8(0x23a)];};_0xaa76e3(),setInterval(_0xaa76e3,config['BotActivitySettings']['Interval']*0x3e8);}else config['BotActivitySettings']['Enabled']&&config[_0x423434(0x20f)][_0x423434(0x220)]?.[_0x423434(0x23a)]===0x1&&_0xd705ff['user']['setActivity'](config[_0x423434(0x20f)]['Statuses'][0x0]['replace'](/{total-users}/g,''+_0x271c80[_0x423434(0x200)]['toLocaleString'](_0x423434(0x1f6)))[_0x423434(0x247)](/{total-tickets}/g,''+_0x3ece0c[_0x423434(0x1d0)]['toLocaleString']('en-US'))[_0x423434(0x247)](/{total-channels}/g,''+_0xd705ff['channels']['cache']['size'])['replace'](/{open-tickets}/g,''+_0x3ece0c['openTickets']['toLocaleString']('en-US'))['replace'](/{total-messages}/g,''+_0x3ece0c['totalMessages']['toLocaleString'](_0x423434(0x1f6)))['replace'](/{average-rating}/g,''+await utils['averageRating'](_0xd705ff))[_0x423434(0x247)](/{average-completion}/g,''+_0x3ece0c[_0x423434(0x28e)])['replace'](/{average-response}/g,''+_0x3ece0c[_0x423434(0x266)]),{'type':_0x337403});_0xd705ff['guilds'][_0x423434(0x1d4)][_0x423434(0x216)](_0x26ef0d=>{const _0x3bf8d5=_0x423434;if('rvoWg'==='yQfPW'){let _0x299e67=_0x57afe1['channels']['cache']['get'](_0x4b063e[_0x3bf8d5(0x1d2)][_0x3bf8d5(0x23f)]),_0x41a132=_0x224494['OpenTickets'][_0x3bf8d5(0x1fa)]['replace'](/{open-tickets}/g,''+_0x34ddb1['openTickets'][_0x3bf8d5(0x255)](_0x3bf8d5(0x1f6)));if(_0x299e67)_0x299e67['setName'](_0x41a132)[_0x3bf8d5(0x269)](_0x233af0=>_0xa34673[_0x3bf8d5(0x205)](_0x233af0));}else!config['GuildID'][_0x3bf8d5(0x211)](_0x26ef0d['id'])&&('HIPeN'==='eiZzA'?!_0x145c4e['GuildID'][_0x3bf8d5(0x211)](_0x3546fd['id'])&&(_0x2794d0[_0x3bf8d5(0x248)](),_0x34e583['log']('\x1b[31m%s\x1b[0m','[INFO]\x20Someone\x20tried\x20to\x20invite\x20the\x20bot\x20to\x20another\x20server!\x20I\x20automatically\x20left\x20it\x20('+_0x171442['name']+')')):(_0x26ef0d[_0x3bf8d5(0x248)](),console[_0x3bf8d5(0x205)]('\x1b[31m%s\x1b[0m','[INFO]\x20Someone\x20tried\x20to\x20invite\x20the\x20bot\x20to\x20another\x20server!\x20I\x20automatically\x20left\x20it\x20('+_0x26ef0d['name']+')')));});if(_0x271c80&&!_0x271c80[_0x423434(0x253)]['me']['permissions']['has'](_0x423434(0x1fd))){if('cvfrn'==='eXPFG')throw new _0x1691c5(_0x423434(0x249));else console['log']('\x1b[31m%s\x1b[0m',_0x423434(0x237));}await startBot();let _0x4984e1=await utils[_0x423434(0x1fb)](),_0x4e0296=await utils[_0x423434(0x23b)]();await console[_0x423434(0x205)]('â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•'),await console['log']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(config['LicenseKey'])await console[_0x423434(0x205)](color[_0x423434(0x257)]['bold'][_0x423434(0x1db)]('Plex\x20Tickets\x20v'+botVersion[_0x423434(0x22b)]+_0x423434(0x28a))+'\x20('+color[_0x423434(0x26b)](''+config['LicenseKey'][_0x423434(0x219)](0x0,-0xa))+')');if(!config['LicenseKey'])await console['log'](''+color[_0x423434(0x257)]['bold']['underline']('Plex\x20Tickets\x20v'+botVersion['version']+'\x20is\x20now\x20Online!\x20'));if(_0x4e0296)await console['log']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x4e0296)await console[_0x423434(0x205)](_0x4e0296);if(_0x4e0296)await console[_0x423434(0x205)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');await console['log']('â€¢\x20Join\x20our\x20discord\x20server\x20for\x20support,\x20'+color[_0x423434(0x28f)](_0x423434(0x289))),await console[_0x423434(0x205)]('â€¢\x20By\x20using\x20this\x20bot\x20you\x20agree\x20to\x20all\x20terms\x20located\x20here,\x20'+color['yellow'](_0x423434(0x20e))),await console['log']('â€¢\x20Addons\x20for\x20the\x20bot\x20can\x20be\x20found\x20here,\x20'+color['yellow'](_0x423434(0x293)));if(config['Statistics'])await console['log']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(config['Statistics'])await console['log'](''+color['green']['bold']['underline']('Statistics:'));if(config['Statistics'])await console['log'](_0x423434(0x230)+color['cyan'][_0x423434(0x1db)](''+_0x3ece0c['timesBotStarted'][_0x423434(0x255)](_0x423434(0x1f6)))+_0x423434(0x24f));if(config['Statistics'])await console[_0x423434(0x205)](_0x423434(0x1e4)+color['cyan']['underline'](''+_0x3ece0c['totalTickets'][_0x423434(0x255)](_0x423434(0x1f6)))+_0x423434(0x1f7));if(config[_0x423434(0x22d)])await console['log'](_0x423434(0x1f8)+color['cyan']['underline'](''+_0x3ece0c[_0x423434(0x231)])+'\x20open\x20tickets.');if(config['Statistics'])await console['log']('â€¢\x20A\x20total\x20of\x20'+color['cyan'][_0x423434(0x1db)](''+_0x3ece0c[_0x423434(0x273)][_0x423434(0x255)]('en-US'))+'\x20messages\x20have\x20been\x20sent\x20in\x20tickets.');if(config['LicenseKey'])await console['log']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(config['LicenseKey'])await console['log'](''+color['green'][_0x423434(0x20c)]['underline']('Source\x20Code:'));if(config['LicenseKey'])await console['log']('â€¢\x20You\x20can\x20buy\x20the\x20full\x20source\x20code\x20at\x20'+color['yellow']('plexdevelopment.net/products/ptsourcecode'));if(config['LicenseKey'])await console['log'](_0x423434(0x24b)+color['green'][_0x423434(0x20c)]['underline']('PLEX')+'\x20for\x2010%\x20OFF!');if(_0x4984e1)await console['log']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x4984e1)await console['log'](''+color['green']['bold']['underline']('Dashboard:'));if(_0x4984e1)await console[_0x423434(0x205)](_0x423434(0x271));if(!_0x4984e1)await console[_0x423434(0x205)](_0x423434(0x1e8));if(!_0x4984e1)await console[_0x423434(0x205)](''+color['red']['bold']['underline']('Dashboard\x20not\x20detected:'));if(!_0x4984e1)await console['log']('â€¢\x20The\x20dashboard\x20unlocks\x20additional\x20features,\x20including:');if(!_0x4984e1)await console['log']('\x20\x20-\x20User\x20interface');if(!_0x4984e1)await console['log'](_0x423434(0x21b));if(!_0x4984e1)await console[_0x423434(0x205)](_0x423434(0x26a));if(!_0x4984e1)await console['log'](_0x423434(0x290));if(!_0x4984e1)await console['log']('\x20\x20-\x20Viewing\x20ticket\x20transcripts\x20online');if(!_0x4984e1)await console['log']('\x20\x20-\x20Viewing\x20ticket\x20history');if(!_0x4984e1)await console['log']('\x20\x20-\x20Viewing\x20ticket\x20reviews');if(!_0x4984e1)await console[_0x423434(0x205)]('\x20\x20-\x20Managing\x20user/role\x20blacklists');if(!_0x4984e1)await console['log']('\x20\x20-\x20Detailed\x20analytics\x20and\x20statistics');if(!_0x4984e1)await console[_0x423434(0x205)]('\x20\x20-\x20and\x20more..');if(!_0x4984e1)await console[_0x423434(0x205)](_0x423434(0x1e1)+color[_0x423434(0x234)]('plexdevelopment.net/store/dashboard'));await console[_0x423434(0x205)](_0x423434(0x1e8)),await console['log']('â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•â€•'),await utils[_0x423434(0x22a)](_0xd705ff);let _0x194e35=_0x423434(0x23d)+new Date()['toLocaleString']()+']\x20[READY]\x20Bot\x20is\x20now\x20ready!';fs[_0x423434(0x28d)]('./logs.txt',_0x194e35,_0x3c30dc=>{const _0x2e9e02=_0x423434;if('kWkOy'==='kWkOy'){if(_0x3c30dc)console[_0x2e9e02(0x205)](_0x3c30dc);}else{const _0x70e2b7=_0x155191%0x3c>=0x1e?_0x5f4cf8+0x1:_0x2e1b5c;return _0x70e2b7+'\x20hour'+(_0x70e2b7>0x1?'s':'');}}),setInterval(async function(){const _0x3937ba=_0x423434,_0x3c30ef=await guildModel[_0x3937ba(0x251)]({'guildID':config['GuildID']});if(config['TotalTickets'][_0x3937ba(0x1fc)]){if(_0x3937ba(0x283)!=='eJZUL'){let _0x3ff934=_0x271c80[_0x3937ba(0x25c)]['cache']['get'](config['TotalTickets'][_0x3937ba(0x23f)]),_0x1c06ce=config[_0x3937ba(0x239)]['ChannelName'][_0x3937ba(0x247)](/{total-tickets}/g,''+_0x3c30ef['totalTickets']['toLocaleString'](_0x3937ba(0x1f6)));if(_0x3ff934)_0x3ff934['setName'](_0x1c06ce)['catch'](_0x50a51a=>console['log'](_0x50a51a));}else _0x26e2bb[_0x3937ba(0x1cc)]('Error\x20updating\x20ticket:',_0x26c225);}if(config['OpenTickets']['Enabled']){let _0x2fb790=_0x271c80['channels'][_0x3937ba(0x1d4)][_0x3937ba(0x24d)](config['OpenTickets']['ChannelID']),_0xd59972=config[_0x3937ba(0x1d2)][_0x3937ba(0x1fa)][_0x3937ba(0x247)](/{open-tickets}/g,''+_0x3c30ef['openTickets'][_0x3937ba(0x255)](_0x3937ba(0x1f6)));if(_0x2fb790)_0x2fb790[_0x3937ba(0x250)](_0xd59972)['catch'](_0x3f2914=>console[_0x3937ba(0x205)](_0x3f2914));}if(config['AverageRating']['Enabled']){const _0x163784=await utils['averageRating'](_0xd705ff);let _0xcf2b8e=_0x271c80[_0x3937ba(0x25c)]['cache']['get'](config[_0x3937ba(0x292)]['ChannelID']),_0x189abb=config[_0x3937ba(0x292)][_0x3937ba(0x1fa)][_0x3937ba(0x247)](/{average-rating}/g,''+_0x163784);if(_0xcf2b8e)_0xcf2b8e[_0x3937ba(0x250)](_0x189abb)[_0x3937ba(0x269)](_0x225387=>console['log'](_0x225387));}if(config[_0x3937ba(0x1f5)]['Enabled']){let _0x17a12e=_0x271c80['channels'][_0x3937ba(0x1d4)]['get'](config['AverageCompletion']['ChannelID']),_0x1bd476=config[_0x3937ba(0x1f5)]['ChannelName']['replace'](/{average-completion}/g,''+_0x3c30ef[_0x3937ba(0x28e)]);if(_0x17a12e)_0x17a12e[_0x3937ba(0x250)](_0x1bd476)['catch'](_0x2ef905=>console['log'](_0x2ef905));}if(config['AverageResponse']['Enabled']){let _0x4289d5=_0x271c80[_0x3937ba(0x25c)][_0x3937ba(0x1d4)]['get'](config[_0x3937ba(0x1e6)]['ChannelID']),_0x3df55f=config['AverageResponse'][_0x3937ba(0x1fa)][_0x3937ba(0x247)](/{average-response}/g,''+_0x3c30ef['averageResponse']);if(_0x4289d5)_0x4289d5['setName'](_0x3df55f)[_0x3937ba(0x269)](_0x3d1507=>console[_0x3937ba(0x205)](_0x3d1507));}if(config['MemberCount']['Enabled']){let _0x2c7331=_0x271c80['channels']['cache']['get'](config['MemberCount']['ChannelID']),_0x349924=config['MemberCount']['ChannelName']['replace'](/{member-count}/g,''+_0x271c80[_0x3937ba(0x200)]['toLocaleString']('en-US'));if(_0x2c7331)_0x2c7331['setName'](_0x349924)['catch'](_0x5ed1a4=>console['log'](_0x5ed1a4));}const _0x1cdbd6=_0x55563f=>{const _0x5c4de5=_0x3937ba,_0x1e4182=Math[_0x5c4de5(0x1e0)](_0x55563f/0x3e8),_0x1131a4=Math['floor'](_0x1e4182/0x3c),_0x302564=Math['floor'](_0x1131a4/0x3c),_0xa7184=Math[_0x5c4de5(0x1e0)](_0x302564/0x18);if(_0xa7184>0x0){const _0x5d69da=_0x302564%0x18>=0xc?_0xa7184+0x1:_0xa7184;return _0x5d69da+_0x5c4de5(0x26f)+(_0x5d69da>0x1?'s':'');}else{if(_0x302564>0x0){if(_0x5c4de5(0x1ed)!==_0x5c4de5(0x1d9)){const _0x5bcfc6=_0x1131a4%0x3c>=0x1e?_0x302564+0x1:_0x302564;return _0x5bcfc6+_0x5c4de5(0x240)+(_0x5bcfc6>0x1?'s':'');}else{if(_0x4d80fd)_0x3a02b5[_0x5c4de5(0x205)](_0x18dead);}}else{if(_0x1131a4>0x0){if('eMAON'!=='eMAON')_0x37b7b8[_0x5c4de5(0x1cc)](_0x5c4de5(0x243),_0x2e3c11);else{const _0x1673b6=_0x1e4182%0x3c>=0x1e?_0x1131a4+0x1:_0x1131a4;return _0x1673b6+_0x5c4de5(0x23e)+(_0x1673b6>0x1?'s':'');}}else{if(_0x5c4de5(0x218)===_0x5c4de5(0x218))return _0x1e4182+_0x5c4de5(0x24c)+(_0x1e4182>0x1?'s':'');else{const _0x4ed9b2=_0x231400[0x0]['average'],_0x298a74=_0x69543b(_0x4ed9b2);return _0x298a74;}}}}},_0x4a6d18=async()=>{const _0x3ac213=_0x3937ba;if('gQXgX'===_0x3ac213(0x207)){const _0x8ab157=new _0x458957['ButtonBuilder']()['setLabel'](_0x2960f0['Locale']['viewTranscriptButton'])['setStyle'](_0x3ac213(0x27e))['setURL'](_0xf9d459['url']+'/transcript?channelId='+_0x1c5456['channelID']+_0x3ac213(0x1ee)+_0x105b45),_0x5ad7bb=new _0x4a8955['ActionRowBuilder']()['addComponents'](_0x8ab157);_0x52803d[_0x3ac213(0x242)]=[_0x5ad7bb];}else{const _0x4e805b=await ticketModel[_0x3ac213(0x233)]([{'$match':{'firstStaffResponse':{'$exists':!![],'$type':'date'},'ticketCreationDate':{'$exists':!![],'$type':'date'}}},{'$project':{'responseTime':{'$subtract':['$firstStaffResponse','$ticketCreationDate']}}},{'$group':{'_id':null,'totalResponseTime':{'$sum':'$responseTime'},'count':{'$sum':0x1}}},{'$project':{'averageResponseTime':{'$divide':[_0x3ac213(0x20a),'$count']}}}]);if(_0x4e805b[_0x3ac213(0x23a)]>0x0){const _0xfd551c=_0x4e805b[0x0]['averageResponseTime'],_0x53d317=_0x1cdbd6(_0xfd551c);return _0x53d317;}return null;}},_0x58f176=async()=>{const _0x126d1e=_0x3937ba;if(_0x126d1e(0x258)!=='OrBIQ')_0x3d8d84['files']=[_0x52f777];else{const _0x3cd06d=await ticketModel['aggregate']([{'$match':{'closedAt':{'$exists':!![],'$type':'date'},'ticketCreationDate':{'$exists':!![],'$type':_0x126d1e(0x28c)}}},{'$group':{'_id':null,'total':{'$sum':{'$subtract':[_0x126d1e(0x260),_0x126d1e(0x294)]}},'count':{'$sum':0x1}}},{'$project':{'average':{'$divide':['$total','$count']}}}]);if(_0x3cd06d['length']>0x0){const _0x113dbb=_0x3cd06d[0x0][_0x126d1e(0x203)],_0x10844a=_0x1cdbd6(_0x113dbb);return _0x10844a;}return null;}};let _0xb63d87=await _0x58f176(),_0x379cb0=await _0x4a6d18();_0x3c30ef['averageCompletion']=_0xb63d87?''+_0xb63d87:'Unknown',_0x3c30ef[_0x3937ba(0x266)]=_0x379cb0?''+_0x379cb0:_0x3937ba(0x1f1),await _0x3c30ef['save']();if(config['TicketAlert']['Enabled']&&config['TicketAlert']['AutoAlert']['Enabled']){const _0x56d707=await ticketModel['find']({'status':'Open'});if(!_0x56d707||_0x56d707['length']===0x0)return;_0x56d707['forEach'](async _0x4d1d77=>{const _0x1a595f=_0x3937ba;if(!_0x4d1d77||!_0x4d1d77[_0x1a595f(0x282)]||!_0x4d1d77['lastMessageSent'])return;if(_0x4d1d77[_0x1a595f(0x21e)]>0x0)return;const _0x386b2a=new Date(_0x4d1d77['lastMessageSent']),_0x39f1bd=new Date(),_0x19ba9c=Math['abs'](_0x39f1bd-_0x386b2a),_0x24b1f9=Math[_0x1a595f(0x1e0)](_0x19ba9c/(0x3e8*0x3c)),_0x5e63f8=ms(config['TicketAlert']['AutoAlert'][_0x1a595f(0x1f3)])/(0x3e8*0x3c);if(_0x24b1f9>=_0x5e63f8&&_0x4d1d77['waitingReplyFrom']!==_0x1a595f(0x275)){if('KzlQS'==='KzlQS'){let _0x21f2b5=await _0xd705ff['users'][_0x1a595f(0x1d4)][_0x1a595f(0x24d)](_0x4d1d77['userID']),_0x2a9639=await _0x271c80['channels']['cache']['get'](_0x4d1d77[_0x1a595f(0x282)]);function _0x5b6cdd(_0x644051){const _0x5f53cd=_0x1a595f,_0x197700=Math[_0x5f53cd(0x1e0)](_0x644051/0x3e8),_0x397340=Math['floor'](_0x197700/(0x18*0xe10)),_0x4cea8f=Math[_0x5f53cd(0x1e0)](_0x197700%(0x18*0xe10)/0xe10),_0xf2d340=Math[_0x5f53cd(0x1e0)](_0x197700%0xe10/0x3c),_0x43b40d=[];if(_0x397340>0x0)_0x43b40d['push'](_0x397340+_0x5f53cd(0x26f)+(_0x397340>0x1?'s':''));if(_0x4cea8f>0x0)_0x43b40d['push'](_0x4cea8f+'\x20hour'+(_0x4cea8f>0x1?'s':''));if(_0xf2d340>0x0)_0x43b40d[_0x5f53cd(0x1f0)](_0xf2d340+'\x20minute'+(_0xf2d340>0x1?'s':''));return _0x43b40d['join'](',\x20');}const _0x3392f2=_0x4d1d77[_0x1a595f(0x1cf)]?new Date(_0x4d1d77['lastMessageSent']):new Date(_0x4d1d77['ticketCreationDate']),_0x7b6bac=new Date(),_0x465b27=_0x5b6cdd(_0x7b6bac-_0x3392f2),_0x4b2244=new Discord['ButtonBuilder']()['setCustomId']('closeTicket')['setLabel'](config['Locale']['CloseTicketButton'])['setStyle'](config[_0x1a595f(0x244)]['closeTicket'])['setEmoji'](config['ButtonEmojis']['closeTicket']);let _0x164874=new Discord['ActionRowBuilder']()[_0x1a595f(0x259)](_0x4b2244);const _0x38c827=new Discord['ButtonBuilder']()['setLabel']('View\x20Ticket')['setStyle']('Link')['setURL']('https://discord.com/channels/'+_0x271c80['id']+'/'+_0x2a9639['id']);let _0x198369=new Discord[(_0x1a595f(0x241))]()['addComponents'](_0x38c827);const _0x541311=Math['floor'](ms(config[_0x1a595f(0x1e7)][_0x1a595f(0x274)])/0x3e8),_0x1b4bbf=Math[_0x1a595f(0x1e0)](Date['now']()/0x3e8)+_0x541311;let _0x35414a=config['TicketAlert'][_0x1a595f(0x27c)]['replace'](/{time}/g,'<t:'+_0x1b4bbf+':R>')['replace'](/{inactive-time}/g,_0x465b27);;const _0x3efe48=new Discord['EmbedBuilder']()[_0x1a595f(0x236)](config[_0x1a595f(0x221)])[_0x1a595f(0x1eb)](_0x35414a)['setTimestamp']();let _0x204475=config['TicketAlert'][_0x1a595f(0x1df)][_0x1a595f(0x247)](/{time}/g,'<t:'+_0x1b4bbf+_0x1a595f(0x252))['replace'](/{server}/g,''+_0x271c80['name'])['replace'](/{inactive-time}/g,_0x465b27);;const _0x6fd9ae=new Discord['EmbedBuilder']()['setColor'](config['EmbedColors'])['setDescription'](_0x204475)[_0x1a595f(0x1ef)]();if(config[_0x1a595f(0x1e7)]['DMUser'])try{await _0x21f2b5[_0x1a595f(0x28b)]({'embeds':[_0x6fd9ae],'components':[_0x198369]});}catch(_0x5a37fb){if(_0x1a595f(0x277)==='OSmkn'){console['log'](_0x1a595f(0x280),'[INFO]\x20I\x20tried\x20to\x20DM\x20a\x20user,\x20but\x20their\x20DM\x27s\x20are\x20locked.');let _0x4a1bdc=_0x1a595f(0x23d)+new Date()['toLocaleString']()+']\x20[ERROR]\x20'+_0x5a37fb[_0x1a595f(0x27d)];await fs[_0x1a595f(0x28d)]('./logs.txt',_0x4a1bdc,_0xb77569=>{if(_0xb77569)console['log'](_0xb77569);});}else{const _0x42601c=_0x12a988%0x18>=0xc?_0x255dde+0x1:_0x58e198;return _0x42601c+_0x1a595f(0x26f)+(_0x42601c>0x1?'s':'');}}_0x2a9639['send']({'content':'<@!'+_0x21f2b5['id']+'>','embeds':[_0x3efe48],'components':[_0x164874],'fetchReply':!![]})['then'](async function(_0x527b17){const _0x434ba5=_0x1a595f;if('ypQAj'!=='ypQAj')_0x27ef73(_0x16706f,_0x19ccba['cleanUpData']['tickets'][_0x434ba5(0x287)]);else try{if('jCbOa'!=='LIhES'){const _0x29637c={'channelID':_0x2a9639['id']},_0x684d4e={'closeNotificationTime':Date['now'](),'closeNotificationMsgID':_0x527b17['id'],'closeNotificationUserID':_0xd705ff['user']['id'],'channelID':_0x2a9639['id'],'closeUserID':_0xd705ff[_0x434ba5(0x26d)]['id'],'closeReason':'Closed\x20automatically\x20after\x20time\x20has\x20passed\x20with\x20no\x20response\x20(Alert\x20command)'},_0x2c476f={'upsert':!![],'new':!![],'setDefaultsOnInsert':!![]};await ticketModel[_0x434ba5(0x26e)](_0x29637c,_0x684d4e,_0x2c476f);}else{if(_0x2802dd)_0x5ca7f6[_0x434ba5(0x205)](_0x580a3e);}}catch(_0xfafc57){console['error']('Error\x20updating\x20ticket:',_0xfafc57);}});}else{let _0xb67feb=_0x5bcc4e['channels']['cache']['get'](_0x5f5d28[_0x1a595f(0x1f5)][_0x1a595f(0x23f)]),_0x17cfe9=_0xf9d334['AverageCompletion']['ChannelName']['replace'](/{average-completion}/g,''+_0xd5564d['averageCompletion']);if(_0xb67feb)_0xb67feb['setName'](_0x17cfe9)['catch'](_0x289d7b=>_0x11b2b3['log'](_0x289d7b));}}});}if(config[_0x3937ba(0x1e7)][_0x3937ba(0x1fc)]){const _0x48f1cf=await ticketModel['find']({'closeNotificationTime':{'$exists':!![]}});if(!_0x48f1cf||_0x48f1cf['length']===0x0)return;if(!_0x48f1cf)return;_0x48f1cf['forEach'](async _0x8cdca4=>{const _0x3c72a3=_0x3937ba;if('iyPGZ'===_0x3c72a3(0x225)){if(!_0x8cdca4)return;if(!_0x8cdca4[_0x3c72a3(0x282)])return;if(_0x8cdca4[_0x3c72a3(0x21e)]===0x0||!_0x8cdca4[_0x3c72a3(0x21e)])return;let _0x57566a=new Date(_0x8cdca4['closeNotificationTime']),_0x4745e5=new Date(),_0x3b5d85=Math['abs'](_0x57566a-_0x4745e5),_0x2e0344=Math['floor'](_0x3b5d85/(0x3e8*0x3c)),_0x2fa6f1=config['TicketAlert']['Time'],_0x1cdf22=ms(_0x2fa6f1)/(0x3e8*0x3c);if(_0x2e0344>_0x1cdf22){if('KmzWC'!==_0x3c72a3(0x1ff)){let _0x7ddf96=await _0xd705ff['users']['cache'][_0x3c72a3(0x24d)](_0x8cdca4['userID']),_0x478971=await _0xd705ff['users'][_0x3c72a3(0x1d4)]['get'](_0x8cdca4['closeUserID']),_0x877fc1=await _0xd705ff[_0x3c72a3(0x21a)]['cache'][_0x3c72a3(0x24d)](_0x8cdca4[_0x3c72a3(0x265)]),_0x26e15c=_0x8cdca4['messages'],_0x1d693f=await _0x271c80['channels']['cache'][_0x3c72a3(0x24d)](_0x8cdca4['channelID']);if(!_0x1d693f||!_0x478971||!_0x7ddf96)return;const {attachment:_0x4e24f0,timestamp:_0x48fc64}=await utils[_0x3c72a3(0x228)](_0x1d693f),_0x95b6e7=new Discord[(_0x3c72a3(0x202))]();_0x95b6e7['setColor']('Red'),_0x95b6e7['setTitle'](config[_0x3c72a3(0x1f2)][_0x3c72a3(0x25e)]);if(_0x478971)_0x95b6e7['addFields']([{'name':'â€¢\x20'+config['Locale']['logsClosedBy'],'value':'>\x20<@!'+_0x478971['id']+'>\x0a>\x20'+_0x478971[_0x3c72a3(0x210)]+'\x0a>\x20ðŸ•‘\x20Automatically\x20closed\x20due\x20to\x20inactivity\x20``(/alert)``'}]);_0x95b6e7['addFields']([{'name':'â€¢\x20'+config['Locale'][_0x3c72a3(0x24e)],'value':'>\x20<@!'+_0x7ddf96['id']+_0x3c72a3(0x254)+_0x7ddf96['username']}]);if(_0x877fc1&&config['ClaimingSystem']['Enabled'])_0x95b6e7[_0x3c72a3(0x24a)]([{'name':'â€¢\x20'+config['Locale']['ticketClaimedBy'],'value':_0x3c72a3(0x1ce)+_0x877fc1['id']+'>\x0a>\x20'+_0x877fc1['username']}]);_0x95b6e7['addFields']([{'name':'â€¢\x20'+config[_0x3c72a3(0x1f2)]['logsTicket'],'value':'>\x20#'+_0x1d693f[_0x3c72a3(0x246)]+'\x0a>\x20'+_0x8cdca4['ticketType']}]),_0x95b6e7[_0x3c72a3(0x1ef)](),_0x95b6e7[_0x3c72a3(0x1da)](_0x478971[_0x3c72a3(0x223)]({'format':_0x3c72a3(0x208),'dynamic':!![],'size':0x400})),_0x95b6e7['setFooter']({'text':config[_0x3c72a3(0x1f2)]['totalMessagesLog']+'\x20'+_0x26e15c,'iconURL':''+_0x478971[_0x3c72a3(0x223)]({'format':'png','dynamic':!![],'size':0x400})});const _0x21e2c4={'embeds':[_0x95b6e7]},_0x2b39a5=await dashboardModel['findOne']({'guildID':config['GuildID']}),_0x26da45=_0x26e15c>=config['TicketTranscriptSettings'][_0x3c72a3(0x226)]&&!_0x4984e1;_0x26da45&&(_0x21e2c4['files']=[_0x4e24f0]);if(_0x4984e1&&_0x26e15c>=config['TicketTranscriptSettings'][_0x3c72a3(0x226)]&&config[_0x3c72a3(0x21c)]['TranscriptType']==='HTML'&&config['TicketTranscriptSettings']['SaveInFolder']===!![]){const _0x3105c0=new Discord['ButtonBuilder']()['setLabel'](config['Locale'][_0x3c72a3(0x1ea)])['setStyle'](_0x3c72a3(0x27e))[_0x3c72a3(0x20b)](_0x2b39a5['url']+'/transcript?channelId='+_0x8cdca4['channelID']+_0x3c72a3(0x1ee)+_0x48fc64),_0x21cbfd=new Discord['ActionRowBuilder']()[_0x3c72a3(0x259)](_0x3105c0);_0x21e2c4['components']=[_0x21cbfd];}let _0x16eabd,_0x254556;if(!config[_0x3c72a3(0x262)][_0x3c72a3(0x23f)])_0x254556=_0x271c80['channels']['cache']['get'](config['TicketSettings']['LogsChannelID']);if(config['ticketClose']['ChannelID'])_0x254556=_0x271c80['channels']['cache'][_0x3c72a3(0x24d)](config['ticketClose'][_0x3c72a3(0x23f)]);if(_0x254556&&config[_0x3c72a3(0x262)][_0x3c72a3(0x1fc)])await _0x254556[_0x3c72a3(0x28b)](_0x21e2c4)['then'](async function(_0xd9be32){const _0x374950=_0x3c72a3;if('XkXKl'!==_0x374950(0x1fe))return _0x20a2b7+_0x374950(0x24c)+(_0x2d17f4>0x1?'s':'');else _0x16eabd=_0xd9be32['id'];});_0xd705ff[_0x3c72a3(0x1e2)](_0x3c72a3(0x229),_0x8cdca4,_0x4e24f0,_0x16eabd),await _0x1d693f['delete']()['catch'](_0x5cd315=>{}),await ticketModel['updateOne']({'channelID':_0x8cdca4['channelID']},{'$set':{'closeUserID':_0x3c72a3(0x25b)},'$unset':{'closeNotificationTime':0x1,'closeNotificationMsgID':0x1,'closeNotificationUserID':0x1}});}else _0x5f58d1['log'](_0x3c72a3(0x1de),'[ERROR]\x20The\x20bot\x20doesn\x27t\x20have\x20enough\x20permissions!\x20Please\x20give\x20the\x20bot\x20ADMINISTRATOR\x20permissions\x20in\x20your\x20server\x20or\x20it\x20won\x27t\x20function\x20properly!');}}else{const _0x3f0146=_0x35e881[0x0][_0x3c72a3(0x288)],_0x55266f=_0x529c33(_0x3f0146);return _0x55266f;}});}},0x493e0);try{if('pygJw'==='pygJw'){const _0x35e342=_0x271c80['channels'][_0x423434(0x1d4)][_0x423434(0x235)](_0x5472bb=>_0x5472bb['type']===0x0),_0xc996d9=await ticketModel['find']({'guildID':config[_0x423434(0x1e9)]});for(const _0x177d49 of _0xc996d9){const _0x241661=_0x35e342[_0x423434(0x1f4)](_0x35ec9b=>String(_0x35ec9b['id'])===String(_0x177d49['channelID']));!_0x241661&&(_0x177d49['status']='Closed',await _0x177d49[_0x423434(0x21f)]());}}else{let _0x2dc206=_0x31d348['channels']['cache'][_0x423434(0x24d)](_0xc8eed3[_0x423434(0x1cd)][_0x423434(0x23f)]),_0x1fee6d=_0x5af172['MemberCount']['ChannelName']['replace'](/{member-count}/g,''+_0x135211['memberCount']['toLocaleString'](_0x423434(0x1f6)));if(_0x2dc206)_0x2dc206['setName'](_0x1fee6d)[_0x423434(0x269)](_0x5e8ae0=>_0x3d9cdb['log'](_0x5e8ae0));}}catch(_0x33cd61){console['error'](_0x423434(0x243),_0x33cd61);}if(config[_0x423434(0x22f)]&&config['InactivityMonitor']['Enabled']){if('UblUU'!==_0x423434(0x204))_0x3bd9de['error']('[ERROR]\x20InactivityMonitor\x20encountered\x20an\x20error:\x20'+_0x16ae5b['message']);else{const _0x179f7a=ms(config['InactivityMonitor'][_0x423434(0x227)]);setInterval(async()=>{const _0x2ad06d=_0x423434;try{if(_0x2ad06d(0x1e3)!=='PqeQW'){const _0x4742c5=await ticketModel['find']({'status':'Open','inactivityWarningSent':![]});for(const _0x2b9849 of _0x4742c5){if('snrjg'==='bTVcB'){let _0x5395fd=_0xd54d60[_0x2ad06d(0x25c)][_0x2ad06d(0x1d4)]['get'](_0x19993b['AverageResponse']['ChannelID']),_0x300c2f=_0x3b4a4d['AverageResponse'][_0x2ad06d(0x1fa)][_0x2ad06d(0x247)](/{average-response}/g,''+_0x325f85[_0x2ad06d(0x266)]);if(_0x5395fd)_0x5395fd['setName'](_0x300c2f)[_0x2ad06d(0x269)](_0x93167d=>_0x29fd7e['log'](_0x93167d));}else{if(_0x2b9849['waitingReplyFrom']===_0x2ad06d(0x275)){const _0x18ef1a=moment(),_0x22582f=moment(_0x2b9849['lastMessageSent']),_0x488185=ms(config['InactivityMonitor'][_0x2ad06d(0x256)]);if(_0x18ef1a[_0x2ad06d(0x25a)](_0x22582f,'milliseconds')>_0x488185){if('GfDnE'!==_0x2ad06d(0x238)){const _0x2a68cf=_0xd705ff['channels']['cache'][_0x2ad06d(0x24d)](config[_0x2ad06d(0x22f)][_0x2ad06d(0x212)]);if(!_0x2a68cf){if('KsoPF'===_0x2ad06d(0x1d6))_0x141ee4(_0x175ca8,_0x330e44[_0x2ad06d(0x214)][_0x2ad06d(0x270)][_0x2ad06d(0x287)]);else{console['log']('[ERROR]\x20Log\x20channel\x20with\x20ID\x20'+config['InactivityMonitor'][_0x2ad06d(0x212)]+'\x20not\x20found.');return;}}const _0x528aa3=_0x18ef1a['diff'](_0x22582f,_0x2ad06d(0x286)),_0x3c4a2c=Math[_0x2ad06d(0x1e0)](_0x528aa3/(0x3e8*0x3c*0x3c*0x18)),_0x3c6a81=Math[_0x2ad06d(0x1e0)](_0x528aa3%(0x3e8*0x3c*0x3c*0x18)/(0x3e8*0x3c*0x3c)),_0x5e8ead=Math[_0x2ad06d(0x1e0)](_0x528aa3%(0x3e8*0x3c*0x3c)/(0x3e8*0x3c));let _0x1ae583='';if(_0x3c4a2c>0x0)_0x1ae583+=_0x3c4a2c+'\x20day'+(_0x3c4a2c>0x1?'s':'');if(_0x3c6a81>0x0)_0x1ae583+=''+(_0x1ae583?',\x20':'')+_0x3c6a81+_0x2ad06d(0x240)+(_0x3c6a81>0x1?'s':'');if(_0x5e8ead>0x0||_0x1ae583==='')_0x1ae583+=''+(_0x1ae583?',\x20':'')+_0x5e8ead+'\x20minute'+(_0x5e8ead>0x1?'s':'');const _0x182508='<t:'+Math[_0x2ad06d(0x1e0)](moment(_0x2b9849['ticketCreationDate'])['unix']())+':F>',_0x12568c='https://discord.com/channels/'+_0x2b9849['guildID']+'/'+_0x2b9849['channelID'],_0x378027=config[_0x2ad06d(0x22f)]['LogMessage']['replace'](/{ticketLink}/g,_0x12568c)[_0x2ad06d(0x247)](/{channel}/g,'<#'+_0x2b9849['channelID']+'>')['replace'](/{ticketCreationDate}/g,_0x182508)['replace'](/{unrespondedDuration}/g,_0x1ae583),_0x299af0=new Discord['EmbedBuilder']()[_0x2ad06d(0x236)]('Red')[_0x2ad06d(0x1eb)](_0x378027)['setFooter']({'text':'#'+_0x2b9849['identifier']})['setTimestamp']();await _0x2a68cf[_0x2ad06d(0x28b)]({'embeds':[_0x299af0]}),_0x2b9849['inactivityWarningSent']=!![],await _0x2b9849['save']();}else{const _0xbf539e=_0xc43958%0x3c>=0x1e?_0x48bdbe+0x1:_0x32d8ba;return _0xbf539e+_0x2ad06d(0x23e)+(_0xbf539e>0x1?'s':'');}}}}}}else{const _0x3ab12a=_0x345fdc['floor'](_0x22f908/0x3e8),_0x1240b9=_0x16fda1[_0x2ad06d(0x1e0)](_0x3ab12a/(0x18*0xe10)),_0x1d02eb=_0x437a65['floor'](_0x3ab12a%(0x18*0xe10)/0xe10),_0x21edd5=_0x3bc87b[_0x2ad06d(0x1e0)](_0x3ab12a%0xe10/0x3c),_0x6a8cbc=[];if(_0x1240b9>0x0)_0x6a8cbc[_0x2ad06d(0x1f0)](_0x1240b9+'\x20day'+(_0x1240b9>0x1?'s':''));if(_0x1d02eb>0x0)_0x6a8cbc['push'](_0x1d02eb+_0x2ad06d(0x240)+(_0x1d02eb>0x1?'s':''));if(_0x21edd5>0x0)_0x6a8cbc['push'](_0x21edd5+'\x20minute'+(_0x21edd5>0x1?'s':''));return _0x6a8cbc[_0x2ad06d(0x27a)](',\x20');}}catch(_0x32a753){_0x2ad06d(0x272)==='VofBY'?console['error'](_0x2ad06d(0x281)+_0x32a753[_0x2ad06d(0x245)]):_0x1d6f64=_0x5e3032['id'];}},_0x179f7a);}}async function _0x20aa27(_0x3febc4,_0x417b33){const _0x26fbc6=_0x423434;if('sZsoZ'!=='sZsoZ'){_0x5e057e[_0x26fbc6(0x205)]('[ERROR]\x20Log\x20channel\x20with\x20ID\x20'+_0x2246fe['InactivityMonitor']['LogChannel']+_0x26fbc6(0x206));return;}else{const _0x183f15=new Date();_0x183f15[_0x26fbc6(0x27b)](_0x183f15['getMonth']()-_0x417b33);try{const _0x3e30b1=await _0x3febc4[_0x26fbc6(0x279)]({'updatedAt':{'$lt':_0x183f15}});if(_0x3e30b1[_0x26fbc6(0x263)]>0x1)console['log']('[DATABASE\x20CLEANUP]\x20'+_0x3e30b1['deletedCount']+_0x26fbc6(0x27f)+_0x3febc4[_0x26fbc6(0x1ec)]+'.');}catch(_0x2c28e4){if(_0x26fbc6(0x20d)==='gDuxn')console[_0x26fbc6(0x1cc)]('Error\x20cleaning\x20up\x20old\x20documents\x20for\x20collection\x20'+_0x3febc4['modelName']+':',_0x2c28e4);else{let _0x68c32d=_0x146d92['channels']['cache'][_0x26fbc6(0x24d)](_0xc85dc7['TotalTickets']['ChannelID']),_0x2f767c=_0x507e51['TotalTickets'][_0x26fbc6(0x1fa)][_0x26fbc6(0x247)](/{total-tickets}/g,''+_0x8d2bf9[_0x26fbc6(0x1d0)]['toLocaleString']('en-US'));if(_0x68c32d)_0x68c32d[_0x26fbc6(0x250)](_0x2f767c)['catch'](_0x2690d2=>_0x28a7c8[_0x26fbc6(0x205)](_0x2690d2));}}}}config[_0x423434(0x214)]['tickets']['enabled']&&_0x20aa27(ticketModel,config[_0x423434(0x214)]['tickets']['time']),config['cleanUpData']['reviews']['enabled']&&_0x20aa27(reviewsModel,config[_0x423434(0x214)][_0x423434(0x270)]['time']),_0x3ece0c['timesBotStarted']++,await _0x3ece0c['save'](),_0x3ece0c['timesBotStarted']===0x1&&(console['log'](''),console['log'](''),console[_0x423434(0x205)]('Thank\x20you\x20for\x20choosing\x20'+color['yellow'](_0x423434(0x1dd))+'!'),console['log'](_0x423434(0x22c)),console[_0x423434(0x205)](''),console['log']('If\x20you\x20need\x20any\x20help,\x20Create\x20a\x20ticket\x20in\x20our\x20discord\x20server.'),console[_0x423434(0x205)]('You\x20can\x20also\x20look\x20at\x20our\x20documentation\x20for\x20help,\x20'+color['yellow']('docs.plexdevelopment.net')),console['log'](''),console['log'](''+color['bold'][_0x423434(0x1d7)]('WARNING:\x0a\x20Leaking,\x20redistributing\x20or\x20re-selling\x20any\x20of\x20our\x20products\x20is\x20not\x20allowed\x20\x0aYour\x20actions\x20may\x20have\x20legal\x20consequences\x20if\x20you\x20violate\x20our\x20terms.\x0aif\x20you\x20are\x20found\x20doing\x20it,\x20your\x20license\x20will\x20be\x20permanently\x20disabled!')),console[_0x423434(0x205)]('By\x20using\x20this\x20bot\x20you\x20agree\x20to\x20all\x20terms\x20located\x20here,\x20'+color[_0x423434(0x234)]('plexdevelopment.net/tos')));};