const _0xc3b8a2=_0x54d3;(function(_0x2f6d52,_0xa0e505){const _0x2177ab=_0x54d3,_0x251126=_0x2f6d52();while(!![]){try{const _0x1b2bf2=parseInt(_0x2177ab(0x1a3))/0x1*(parseInt(_0x2177ab(0x1a8))/0x2)+-parseInt(_0x2177ab(0x19a))/0x3+parseInt(_0x2177ab(0x199))/0x4+parseInt(_0x2177ab(0x19f))/0x5+parseInt(_0x2177ab(0x1a7))/0x6+-parseInt(_0x2177ab(0x197))/0x7*(-parseInt(_0x2177ab(0x1a0))/0x8)+-parseInt(_0x2177ab(0x196))/0x9*(parseInt(_0x2177ab(0x1a2))/0xa);if(_0x1b2bf2===_0xa0e505)break;else _0x251126['push'](_0x251126['shift']());}catch(_0x1a2542){_0x251126['push'](_0x251126['shift']());}}}(_0xd6ae,0x24621));function _0x54d3(_0xe0e65e,_0x3abebe){const _0xd6aee7=_0xd6ae();return _0x54d3=function(_0x54d37b,_0x2e68f9){_0x54d37b=_0x54d37b-0x190;let _0x19734e=_0xd6aee7[_0x54d37b];return _0x19734e;},_0x54d3(_0xe0e65e,_0x3abebe);}function _0xd6ae(){const _0x9a5df9=['ActionRowBuilder','deleteTicketButton','7818iwVHIR','100660emPZYv','setCustomId','ButtonColors','userLeftDescription','findOneAndUpdate','setDescription','discord.js','EmbedColors','send','setTitle','288837dMsXAa','7ScvxkQ','username','535536qDgrbz','165069DkGfGs','find','get','setFooter','channels','1009785bOhyxf','1870264Vccajy','Locale','130bYlgwM','1MYpSaP','readFileSync'];_0xd6ae=function(){return _0x9a5df9;};return _0xd6ae();}const Discord=require(_0xc3b8a2(0x192)),fs=require('fs'),yaml=require('js-yaml'),config=yaml['load'](fs[_0xc3b8a2(0x1a4)]('./config.yml','utf8')),ticketModel=require('../models/ticketModel');module['exports']=async(_0x3fa78d,_0x54170d)=>{const _0xadd315=_0xc3b8a2;try{const _0x96dccd=await ticketModel[_0xadd315(0x19b)]({'userID':_0x54170d['id'],'status':'Open'});for(const _0x34896d of _0x96dccd){const _0xd0f258=_0x54170d['guild'][_0xadd315(0x19e)]['cache'][_0xadd315(0x19c)](_0x34896d['channelID']),_0x4fc502=new Discord['ButtonBuilder']()[_0xadd315(0x1a9)]('deleteTicket')['setLabel'](config[_0xadd315(0x1a1)][_0xadd315(0x1a6)])['setEmoji'](config['ButtonEmojis']['deleteTicket'])['setStyle'](config[_0xadd315(0x1aa)]['deleteTicket']),_0x2d5816=new Discord[(_0xadd315(0x1a5))]()['addComponents'](_0x4fc502);await ticketModel[_0xadd315(0x190)]({'channelID':_0x34896d['channelID']},{'closeReason':'User\x20left\x20the\x20server'});const _0x1b2a50=config[_0xadd315(0x1a1)][_0xadd315(0x1ab)]['replace'](/{username}/g,''+_0x54170d['user']['username']),_0x19a5df=new Discord['EmbedBuilder']()['setColor'](config[_0xadd315(0x193)])[_0xadd315(0x195)](config[_0xadd315(0x1a1)]['userLeftTitle'])[_0xadd315(0x191)](_0x1b2a50)[_0xadd315(0x19d)]({'text':''+_0x54170d['user'][_0xadd315(0x198)],'iconURL':''+_0x54170d['user']['displayAvatarURL']({'dynamic':!![]})})['setTimestamp']();_0xd0f258[_0xadd315(0x194)]({'embeds':[_0x19a5df],'components':[_0x2d5816]});}}catch(_0x239833){console['error']('Error\x20handling\x20member\x20leave\x20event:',_0x239833);}};