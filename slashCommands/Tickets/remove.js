const _0x1f5433=_0x37a4;function _0x5557(){const _0x27cf3a=['user','channels','>\x0a>\x20#','./commands.yml','remove','904086fUgKxd','deferReply','displayAvatarURL','send','Red','819190wJIDvi','Enabled','Remove','83526ukZRva','AllowEveryoneToUse','exports','getUser','utf8','addUserOption','NotInTicketChannel','>\x20<@!','setName','TicketSettings','Ticket','115230HYAJbw','channel','setDescription','findOne','username','logsExecutor','get','Locale','png','discord.js','../../utils.js','389464tAYwJi','>\x20<#','guild','435646GlJwfr','2013977eCEOlm','readFileSync','userRemove','>\x0a>\x20'];_0x5557=function(){return _0x27cf3a;};return _0x5557();}function _0x37a4(_0x19e2d9,_0x1fa5aa){const _0x5557c8=_0x5557();return _0x37a4=function(_0x37a417,_0x12e005){_0x37a417=_0x37a417-0x167;let _0x52f22e=_0x5557c8[_0x37a417];return _0x52f22e;},_0x37a4(_0x19e2d9,_0x1fa5aa);}(function(_0x510ed3,_0x3190f4){const _0x216a9a=_0x37a4,_0x3ba70f=_0x510ed3();while(!![]){try{const _0x4ce805=parseInt(_0x216a9a(0x182))/0x1+-parseInt(_0x216a9a(0x174))/0x2+-parseInt(_0x216a9a(0x169))/0x3+-parseInt(_0x216a9a(0x17f))/0x4+-parseInt(_0x216a9a(0x191))/0x5+-parseInt(_0x216a9a(0x18c))/0x6+parseInt(_0x216a9a(0x183))/0x7;if(_0x4ce805===_0x3190f4)break;else _0x3ba70f['push'](_0x3ba70f['shift']());}catch(_0x100d91){_0x3ba70f['push'](_0x3ba70f['shift']());}}}(_0x5557,0x372df));const {SlashCommandBuilder}=require('@discordjs/builders'),Discord=require(_0x1f5433(0x17d)),fs=require('fs'),yaml=require('js-yaml'),config=yaml['load'](fs['readFileSync']('./config.yml',_0x1f5433(0x16d))),commands=yaml['load'](fs[_0x1f5433(0x184)](_0x1f5433(0x18a),_0x1f5433(0x16d))),ticketModel=require('../../models/ticketModel'),utils=require(_0x1f5433(0x17e));module[_0x1f5433(0x16b)]={'enabled':commands['Ticket'][_0x1f5433(0x168)][_0x1f5433(0x167)],'data':new SlashCommandBuilder()[_0x1f5433(0x171)](_0x1f5433(0x18b))[_0x1f5433(0x176)](commands[_0x1f5433(0x173)]['Remove']['Description'])[_0x1f5433(0x16e)](_0xfb294d=>_0xfb294d[_0x1f5433(0x171)]('user')['setDescription']('User')['setRequired'](!![])),async 'execute'(_0x172834,_0x3400de){const _0x3789b0=_0x1f5433,_0x4a3178=await ticketModel[_0x3789b0(0x177)]({'channelID':_0x172834[_0x3789b0(0x175)]['id']});if(!_0x4a3178)return _0x172834['reply']({'content':config[_0x3789b0(0x17b)][_0x3789b0(0x16f)],'ephemeral':!![]});let _0x4c1a95=await utils['checkIfUserHasSupportRoles'](_0x172834);if(commands[_0x3789b0(0x173)][_0x3789b0(0x168)][_0x3789b0(0x16a)]===![]&&!_0x4c1a95)return _0x172834['reply']({'content':config[_0x3789b0(0x17b)]['NoPermsMessage'],'ephemeral':!![]});await _0x172834[_0x3789b0(0x18d)]({'ephemeral':!![]});let _0x21e596=_0x172834['options'][_0x3789b0(0x16c)]('user');_0x172834['channel']['permissionOverwrites']['create'](_0x21e596,{'SendMessages':![],'ViewChannel':![],'ReadMessageHistory':![]});let _0x208c0f;if(!config[_0x3789b0(0x185)]['ChannelID'])_0x208c0f=_0x172834[_0x3789b0(0x181)][_0x3789b0(0x188)]['cache'][_0x3789b0(0x17a)](config[_0x3789b0(0x172)]['LogsChannelID']);if(config[_0x3789b0(0x185)]['ChannelID'])_0x208c0f=_0x172834[_0x3789b0(0x181)]['channels']['cache']['get'](config[_0x3789b0(0x185)]['ChannelID']);const _0x916ce6=new Discord['EmbedBuilder']()['setColor'](_0x3789b0(0x190))['setTitle'](config[_0x3789b0(0x17b)]['userRemoveTitle'])['addFields']([{'name':'•\x20'+config['Locale'][_0x3789b0(0x179)],'value':'>\x20<@!'+_0x172834[_0x3789b0(0x187)]['id']+_0x3789b0(0x186)+_0x172834[_0x3789b0(0x187)]['username']},{'name':'•\x20'+config[_0x3789b0(0x17b)]['logsUser'],'value':_0x3789b0(0x170)+_0x21e596['id']+'>\x0a>\x20'+_0x21e596[_0x3789b0(0x178)]},{'name':'•\x20'+config[_0x3789b0(0x17b)]['logsTicket'],'value':_0x3789b0(0x180)+_0x172834['channel']['id']+_0x3789b0(0x189)+_0x172834['channel']['name']}])['setTimestamp']()['setThumbnail'](_0x172834['user'][_0x3789b0(0x18e)]({'format':_0x3789b0(0x17c),'dynamic':!![],'size':0x400}))['setFooter']({'text':''+_0x172834[_0x3789b0(0x187)][_0x3789b0(0x178)],'iconURL':''+_0x172834['user']['displayAvatarURL']({'format':'png','dynamic':!![],'size':0x400})});let _0x17596f=config['Locale']['ticketUserRemove']['replace'](/{user}/g,'<@!'+_0x21e596['id']+'>')['replace'](/{username}/g,''+_0x21e596[_0x3789b0(0x178)]);const _0x9a23be=new Discord['EmbedBuilder']()['setColor']('Red')[_0x3789b0(0x176)](_0x17596f);_0x172834['editReply']({'embeds':[_0x9a23be]});if(_0x208c0f&&config['userRemove']['Enabled'])_0x208c0f[_0x3789b0(0x18f)]({'embeds':[_0x916ce6]});}};