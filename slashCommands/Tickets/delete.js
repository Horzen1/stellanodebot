function _0x3c14(_0x23596b,_0x4e048b){const _0x20e2f5=_0x20e2();return _0x3c14=function(_0x3c1438,_0x453383){_0x3c1438=_0x3c1438-0xbf;let _0x7e998f=_0x20e2f5[_0x3c1438];return _0x7e998f;},_0x3c14(_0x23596b,_0x4e048b);}function _0x20e2(){const _0x261505=['6726360IbYpHh','cache','messages','png','exports','channels','ticketForceDeleted','channel','TicketTranscriptSettings','setFooter','username','checkIfUserHasSupportRoles','26352OzJgMo','LogsChannelID','logsTicketAuthor','434gMxTjy','setColor','ChannelID','../../models/dashboardModel','readFileSync','Enabled','148pRAFjt','load','2867160wOPIjt','Locale','>\x0a>\x20','displayAvatarURL','Delete','671331qzhMZI','findOne','editReply','channelID','120068mAMsxo','viewTranscriptButton','guild','logsDeletedBy','NoPermsMessage','MessagesRequirement','12690uKhnmM','addFields','53778RkTmUZ','user','EmbedBuilder','../../models/ticketModel','get','1773LvgiED','userID','>\x20#','\x0a>\x20','DeleteCommandTranscript','TicketSettings'];_0x20e2=function(){return _0x261505;};return _0x20e2();}const _0x56fb02=_0x3c14;(function(_0x406638,_0x30a6f7){const _0x43b98c=_0x3c14,_0x3d0c74=_0x406638();while(!![]){try{const _0x43e37f=parseInt(_0x43b98c(0xdf))/0x1+parseInt(_0x43b98c(0xd8))/0x2*(-parseInt(_0x43b98c(0xe9))/0x3)+parseInt(_0x43b98c(0xe3))/0x4+-parseInt(_0x43b98c(0xda))/0x5+parseInt(_0x43b98c(0xeb))/0x6*(parseInt(_0x43b98c(0xd2))/0x7)+-parseInt(_0x43b98c(0xcf))/0x8*(-parseInt(_0x43b98c(0xf0))/0x9)+-parseInt(_0x43b98c(0xc3))/0xa;if(_0x43e37f===_0x30a6f7)break;else _0x3d0c74['push'](_0x3d0c74['shift']());}catch(_0x251a3e){_0x3d0c74['push'](_0x3d0c74['shift']());}}}(_0x20e2,0x54b04));const {SlashCommandBuilder}=require('@discordjs/builders'),Discord=require('discord.js'),fs=require('fs'),yaml=require('js-yaml'),config=yaml[_0x56fb02(0xd9)](fs[_0x56fb02(0xd6)]('./config.yml','utf8')),commands=yaml[_0x56fb02(0xd9)](fs[_0x56fb02(0xd6)]('./commands.yml','utf8')),utils=require('../../utils.js'),ticketModel=require(_0x56fb02(0xee)),dashboardModel=require(_0x56fb02(0xd5));module[_0x56fb02(0xc7)]={'enabled':commands['Ticket'][_0x56fb02(0xde)][_0x56fb02(0xd7)],'data':new SlashCommandBuilder()['setName']('delete')['setDescription'](commands['Ticket']['Delete']['Description']),async 'execute'(_0x2c0deb,_0x109bfa){const _0x246424=_0x56fb02;await _0x2c0deb['deferReply']({'ephemeral':!![]});const _0x352a6a=await ticketModel['findOne']({'channelID':_0x2c0deb['channel']['id']});if(!_0x352a6a)return _0x2c0deb['editReply']({'content':config['Locale']['NotInTicketChannel'],'ephemeral':!![]});let _0x119d34=await utils[_0x246424(0xce)](_0x2c0deb);if(!_0x119d34)return _0x2c0deb['editReply']({'content':config[_0x246424(0xdb)][_0x246424(0xe7)],'ephemeral':!![]});let _0x564cd5=_0x109bfa['users'][_0x246424(0xc4)]['get'](_0x352a6a[_0x246424(0xf1)]);const _0x113967=new Discord[(_0x246424(0xed))]();_0x113967[_0x246424(0xd3)]('Red'),_0x113967['setTitle'](config['Locale'][_0x246424(0xc9)]),_0x113967[_0x246424(0xea)]([{'name':'â€¢\x20'+config[_0x246424(0xdb)][_0x246424(0xe6)],'value':'>\x20<@!'+_0x2c0deb[_0x246424(0xec)]['id']+'>\x0a>\x20'+_0x2c0deb['user'][_0x246424(0xcd)]},{'name':'â€¢\x20'+config[_0x246424(0xdb)][_0x246424(0xd1)],'value':'>\x20<@!'+_0x564cd5['id']+_0x246424(0xdc)+_0x564cd5['username']},{'name':'â€¢\x20'+config['Locale']['logsTicket'],'value':_0x246424(0xbf)+_0x2c0deb[_0x246424(0xca)]['name']+_0x246424(0xc0)+_0x352a6a['ticketType']}]),_0x113967['setTimestamp'](),_0x113967['setThumbnail'](_0x2c0deb[_0x246424(0xec)][_0x246424(0xdd)]({'format':_0x246424(0xc6),'dynamic':!![],'size':0x400})),_0x113967[_0x246424(0xcc)]({'text':config['Locale']['totalMessagesLog']+'\x20'+_0x352a6a['messages'],'iconURL':''+_0x2c0deb['user'][_0x246424(0xdd)]({'format':'png','dynamic':!![],'size':0x400})});const {attachment:_0xda9412,timestamp:_0x57dccc}=await utils['saveTranscript'](_0x2c0deb),_0x5cecba=await utils['checkDashboard'](),_0x3b1f22=await dashboardModel[_0x246424(0xe0)]({'guildID':config['GuildID']});let _0x3a8605;if(!config['deleteTicket'][_0x246424(0xd4)])_0x3a8605=_0x2c0deb['guild']['channels'][_0x246424(0xc4)][_0x246424(0xef)](config[_0x246424(0xc2)][_0x246424(0xd0)]);if(config['deleteTicket']['ChannelID'])_0x3a8605=_0x2c0deb[_0x246424(0xe5)][_0x246424(0xc8)]['cache'][_0x246424(0xef)](config['deleteTicket'][_0x246424(0xd4)]);const _0x47cce3={'embeds':[_0x113967]},_0x27e632=_0x352a6a[_0x246424(0xc5)]>=config['TicketTranscriptSettings']['MessagesRequirement']&&!_0x5cecba&&!config['TicketSettings'][_0x246424(0xc1)];_0x27e632&&(_0x47cce3['files']=[_0xda9412]);if(_0x5cecba&&_0x352a6a[_0x246424(0xc5)]>=config['TicketTranscriptSettings'][_0x246424(0xe8)]&&config['TicketTranscriptSettings']['TranscriptType']==='HTML'&&config[_0x246424(0xcb)]['SaveInFolder']===!![]){const _0x5893da=new Discord['ButtonBuilder']()['setLabel'](config[_0x246424(0xdb)][_0x246424(0xe4)])['setStyle']('Link')['setURL'](_0x3b1f22['url']+'/transcript?channelId='+_0x352a6a[_0x246424(0xe2)]+'&dateNow='+_0x57dccc),_0x1aa743=new Discord['ActionRowBuilder']()['addComponents'](_0x5893da);_0x47cce3['components']=[_0x1aa743];}if(_0x3a8605&&config['deleteTicket']['Enabled'])await _0x3a8605['send'](_0x47cce3);let _0x31ab38=config['TicketSettings']['DeleteTime']*0x3e8,_0x238f54=config[_0x246424(0xdb)]['deletingTicketMsg']['replace'](/{time}/g,''+config['TicketSettings']['DeleteTime']);const _0x23aa65=new Discord[(_0x246424(0xed))]()['setDescription'](_0x238f54)[_0x246424(0xd3)]('Red');await _0x2c0deb[_0x246424(0xe1)]({'embeds':[_0x23aa65]}),await setTimeout(()=>_0x2c0deb['channel']['delete']()['catch'](_0xb0f46d=>{}),_0x31ab38);}};