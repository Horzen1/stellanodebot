const _0x1196bb=_0x3903;(function(_0x35e09e,_0x2a3a09){const _0x11c5e8=_0x3903,_0x16fcb4=_0x35e09e();while(!![]){try{const _0x548dd4=-parseInt(_0x11c5e8(0x7d))/0x1*(-parseInt(_0x11c5e8(0x75))/0x2)+-parseInt(_0x11c5e8(0x84))/0x3*(parseInt(_0x11c5e8(0x7b))/0x4)+parseInt(_0x11c5e8(0x7c))/0x5+-parseInt(_0x11c5e8(0x72))/0x6*(parseInt(_0x11c5e8(0x77))/0x7)+-parseInt(_0x11c5e8(0x79))/0x8+parseInt(_0x11c5e8(0x83))/0x9+parseInt(_0x11c5e8(0x6e))/0xa*(parseInt(_0x11c5e8(0x7e))/0xb);if(_0x548dd4===_0x2a3a09)break;else _0x16fcb4['push'](_0x16fcb4['shift']());}catch(_0x430300){_0x16fcb4['push'](_0x16fcb4['shift']());}}}(_0x117c,0x9f6a7));function _0x3903(_0x4a6ddc,_0x14e6e4){const _0x117cc0=_0x117c();return _0x3903=function(_0x3903a2,_0x200797){_0x3903a2=_0x3903a2-0x6d;let _0x296cd8=_0x117cc0[_0x3903a2];return _0x296cd8;},_0x3903(_0x4a6ddc,_0x14e6e4);}const {SlashCommandBuilder}=require('@discordjs/builders'),{Discord,EmbedBuilder}=require('discord.js'),fs=require('fs'),yaml=require(_0x1196bb(0x7f)),config=yaml['load'](fs['readFileSync']('./config.yml',_0x1196bb(0x8b))),commands=yaml['load'](fs[_0x1196bb(0x85)]('./commands.yml',_0x1196bb(0x8b))),utils=require(_0x1196bb(0x89)),ticketModel=require('../../models/ticketModel');module['exports']={'enabled':commands['Ticket'][_0x1196bb(0x70)]['Enabled'],'data':new SlashCommandBuilder()['setName']('close')['setDescription'](commands[_0x1196bb(0x81)][_0x1196bb(0x70)]['Description'])['addStringOption'](_0x3fa9a5=>_0x3fa9a5['setName'](_0x1196bb(0x6d))['setDescription']('Reason\x20for\x20closing\x20the\x20ticket')[_0x1196bb(0x82)](config['TicketSettings'][_0x1196bb(0x76)])),async 'execute'(_0x1f1498,_0x4b7e7){const _0x22ff06=_0x1196bb;await _0x1f1498[_0x22ff06(0x88)]({'ephemeral':!![]});const _0x19cbf0=await ticketModel[_0x22ff06(0x78)]({'channelID':_0x1f1498['channel']['id']});if(!_0x19cbf0)return _0x1f1498[_0x22ff06(0x86)]({'content':config[_0x22ff06(0x7a)]['NotInTicketChannel'],'ephemeral':!![]});let _0x1dbdbe=await utils[_0x22ff06(0x74)](_0x1f1498);if(config['TicketSettings']['RestrictTicketClose']&&!_0x1dbdbe)return _0x1f1498['editReply']({'content':config['Locale'][_0x22ff06(0x6f)],'ephemeral':!![]});let _0xe242cd=_0x1f1498[_0x22ff06(0x80)][_0x22ff06(0x73)]('reason')||'No\x20reason\x20provided.';await ticketModel['updateOne']({'channelID':_0x1f1498[_0x22ff06(0x71)]['id']},{'$set':{'closeUserID':_0x1f1498['user']['id'],'closedAt':Date['now'](),'closeReason':_0xe242cd}}),await _0x4b7e7[_0x22ff06(0x8a)](_0x22ff06(0x87),_0x1f1498);}};function _0x117c(){const _0xe9bb90=['333vrbGVf','readFileSync','editReply','ticketClose','deferReply','../../utils.js','emit','utf8','reason','16810EjFZpA','restrictTicketClose','Close','channel','6557202ZlaLNC','getString','checkIfUserHasSupportRoles','534baDZdW','TicketCloseReason','7ghuYdR','findOne','3646360zMgkpK','Locale','18976wtEKOK','6101160OuXzXW','4593rNyCNM','1419TOBEwT','js-yaml','options','Ticket','setRequired','583209HxdIQo'];_0x117c=function(){return _0xe9bb90;};return _0x117c();}