const _0x14232e=_0x318e;function _0x318e(_0x5204dc,_0x11e788){const _0x539c89=_0x539c();return _0x318e=function(_0x318eaf,_0x4c4642){_0x318eaf=_0x318eaf-0x1cd;let _0x38987d=_0x539c89[_0x318eaf];return _0x38987d;},_0x318e(_0x5204dc,_0x11e788);}function _0x539c(){const _0x5295c3=['readFileSync','channels','2693860Meazrc','Add','./config.yml','deferReply','33ydLnEa','Ticket','../../utils.js','60ozuimJ','username','send','2551290foiETM','2644808mgsZvP','userAdd','18maPmiX','png','27849tjIjtO','user','findOne','554082iEGDMb','userAddTitle','editReply','replace','../../models/ticketModel','1058936mlfNXA','@discordjs/builders','ChannelID','getUser','76567ErgQSc','7AXlLeA','addUserOption','Green','EmbedBuilder','ticketUserAdd','setFooter','channel','>\x0a>\x20#','Enabled','setColor','>\x0a>\x20','Locale','setName','load','options','LogsChannelID'];_0x539c=function(){return _0x5295c3;};return _0x539c();}(function(_0x12ac5f,_0x54dfb5){const _0x596bcb=_0x318e,_0x47adc1=_0x12ac5f();while(!![]){try{const _0x12d3db=parseInt(_0x596bcb(0x1f9))/0x1+-parseInt(_0x596bcb(0x1e5))/0x2*(parseInt(_0x596bcb(0x1ed))/0x3)+parseInt(_0x596bcb(0x1f5))/0x4+parseInt(_0x596bcb(0x1de))/0x5+-parseInt(_0x596bcb(0x1f0))/0x6*(parseInt(_0x596bcb(0x1fa))/0x7)+-parseInt(_0x596bcb(0x1e9))/0x8*(-parseInt(_0x596bcb(0x1eb))/0x9)+parseInt(_0x596bcb(0x1e8))/0xa*(-parseInt(_0x596bcb(0x1e2))/0xb);if(_0x12d3db===_0x54dfb5)break;else _0x47adc1['push'](_0x47adc1['shift']());}catch(_0x4dd602){_0x47adc1['push'](_0x47adc1['shift']());}}}(_0x539c,0x62e3b));const {SlashCommandBuilder}=require(_0x14232e(0x1f6)),Discord=require('discord.js'),fs=require('fs'),yaml=require('js-yaml'),config=yaml['load'](fs[_0x14232e(0x1dc)](_0x14232e(0x1e0),'utf8')),commands=yaml[_0x14232e(0x1d9)](fs['readFileSync']('./commands.yml','utf8')),ticketModel=require(_0x14232e(0x1f4)),utils=require(_0x14232e(0x1e4));module['exports']={'enabled':commands['Ticket'][_0x14232e(0x1df)][_0x14232e(0x1d4)],'data':new SlashCommandBuilder()['setName']('add')['setDescription'](commands['Ticket']['Add']['Description'])[_0x14232e(0x1cd)](_0x579ba8=>_0x579ba8[_0x14232e(0x1d8)]('user')['setDescription']('User')['setRequired'](!![])),async 'execute'(_0x329879,_0x508eb8){const _0x49e606=_0x14232e,_0x2bece3=await ticketModel[_0x49e606(0x1ef)]({'channelID':_0x329879[_0x49e606(0x1d2)]['id']});if(!_0x2bece3)return _0x329879['reply']({'content':config['Locale']['NotInTicketChannel'],'ephemeral':!![]});let _0x53cd4f=await utils['checkIfUserHasSupportRoles'](_0x329879);if(commands[_0x49e606(0x1e3)]['Add']['AllowEveryoneToUse']===![]&&!_0x53cd4f)return _0x329879['reply']({'content':config['Locale']['NoPermsMessage'],'ephemeral':!![]});await _0x329879[_0x49e606(0x1e1)]();let _0xd39b42=_0x329879[_0x49e606(0x1da)][_0x49e606(0x1f8)]('user');_0x329879['channel']['permissionOverwrites']['create'](_0xd39b42,{'SendMessages':!![],'ViewChannel':!![],'ReadMessageHistory':!![]});let _0x2472cc;if(!config['userAdd'][_0x49e606(0x1f7)])_0x2472cc=_0x329879['guild'][_0x49e606(0x1dd)]['cache']['get'](config['TicketSettings'][_0x49e606(0x1db)]);if(config[_0x49e606(0x1ea)]['ChannelID'])_0x2472cc=_0x329879['guild']['channels']['cache']['get'](config['userAdd']['ChannelID']);const _0x5caf59=new Discord[(_0x49e606(0x1cf))]()['setColor']('Green')['setTitle'](config['Locale'][_0x49e606(0x1f1)])['addFields']([{'name':'•\x20'+config['Locale']['logsExecutor'],'value':'>\x20<@!'+_0x329879[_0x49e606(0x1ee)]['id']+'>\x0a>\x20'+_0x329879['user'][_0x49e606(0x1e6)]},{'name':'•\x20'+config[_0x49e606(0x1d7)]['logsUser'],'value':'>\x20<@!'+_0xd39b42['id']+_0x49e606(0x1d6)+_0xd39b42['username']},{'name':'•\x20'+config['Locale']['logsTicket'],'value':'>\x20<#'+_0x329879['channel']['id']+_0x49e606(0x1d3)+_0x329879['channel']['name']}])['setTimestamp']()['setThumbnail'](_0x329879['user']['displayAvatarURL']({'format':'png','dynamic':!![],'size':0x400}))[_0x49e606(0x1d1)]({'text':''+_0x329879['user']['username'],'iconURL':''+_0x329879['user']['displayAvatarURL']({'format':_0x49e606(0x1ec),'dynamic':!![],'size':0x400})});let _0x9ad604=config['Locale'][_0x49e606(0x1d0)][_0x49e606(0x1f3)](/{user}/g,'<@!'+_0xd39b42['id']+'>')[_0x49e606(0x1f3)](/{username}/g,''+_0xd39b42['username']);const _0x515977=new Discord['EmbedBuilder']()[_0x49e606(0x1d5)](_0x49e606(0x1ce))['setDescription'](_0x9ad604);_0x329879[_0x49e606(0x1f2)]({'embeds':[_0x515977]});if(_0x2472cc&&config['userAdd'][_0x49e606(0x1d4)])_0x2472cc[_0x49e606(0x1e7)]({'embeds':[_0x5caf59]});}};