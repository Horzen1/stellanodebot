function _0x22db(){const _0x28f213=['utf8','691265wtDlVg','suggestionUpvotes','Success','338856KhMKTL','ChannelID','Secondary','Green','Pending','editReply','./config.yml','downvote','setStyle','suggestionSubmit','setLabel','Suggest','user','startThread','SuggestionStatuses','Locale','SuggestionUpvote','\x27s\x20suggestion\x20discussion\x27','ButtonEmoji','suggestionFrom','100345pYYDPl','4887eucIXq','setCustomId','findOne','Red','>\x20**','This\x20command\x20has\x20been\x20disabled\x20in\x20the\x20config!','suggestionDownvotes','409670QKAHtP','deferReply','Enabled','99bGhWEr','setColor','Submit\x20a\x20suggestion','addFields','482840IOnDZM','username','ButtonColor','@discordjs/builders','totalSuggestions','getString','GuildID','suggestionTitle','>\x0a>\x20**','General','resetvote','CreateThreads','Suggestion\x20channel\x20has\x20not\x20been\x20setup!\x20Please\x20fix\x20this\x20in\x20the\x20bot\x27s\x20config!','SuggestionDownvote','Gray','readFileSync','732XlmbcQ','then','143871qpKRQj','SuggestionResetvote','EnableAcceptDenySystem','displayAvatarURL'];_0x22db=function(){return _0x28f213;};return _0x22db();}const _0x24b173=_0x520f;function _0x520f(_0x7d9eab,_0x343151){const _0x22db3c=_0x22db();return _0x520f=function(_0x520f3c,_0x3d429a){_0x520f3c=_0x520f3c-0x8f;let _0xb0f9de=_0x22db3c[_0x520f3c];return _0xb0f9de;},_0x520f(_0x7d9eab,_0x343151);}(function(_0x3c10e4,_0x4a0cf2){const _0x196c4a=_0x520f,_0xa16f29=_0x3c10e4();while(!![]){try{const _0x481ae7=parseInt(_0x196c4a(0x8f))/0x1+parseInt(_0x196c4a(0x97))/0x2+parseInt(_0x196c4a(0x90))/0x3*(parseInt(_0x196c4a(0xae))/0x4)+parseInt(_0x196c4a(0xb5))/0x5+parseInt(_0x196c4a(0xb8))/0x6+parseInt(_0x196c4a(0xb0))/0x7+-parseInt(_0x196c4a(0x9e))/0x8*(parseInt(_0x196c4a(0x9a))/0x9);if(_0x481ae7===_0x4a0cf2)break;else _0xa16f29['push'](_0xa16f29['shift']());}catch(_0x33fc67){_0xa16f29['push'](_0xa16f29['shift']());}}}(_0x22db,0x25c28));const {SlashCommandBuilder}=require(_0x24b173(0xa1)),{Discord,ActionRowBuilder,ButtonBuilder,EmbedBuilder,MessageSelectMenu,Message,MessageAttachment,SnowflakeUtil}=require('discord.js'),fs=require('fs'),yaml=require('js-yaml'),config=yaml['load'](fs[_0x24b173(0xad)](_0x24b173(0xbe),_0x24b173(0xb4))),commands=yaml['load'](fs[_0x24b173(0xad)]('./commands.yml','utf8')),guildModel=require('../../models/guildModel'),suggestionModel=require('../../models/suggestionModel');module['exports']={'enabled':commands[_0x24b173(0xa7)][_0x24b173(0xc3)]['Enabled'],'data':new SlashCommandBuilder()['setName']('suggest')['setDescription'](_0x24b173(0x9c))['addStringOption'](_0x4b63aa=>_0x4b63aa['setName']('suggestion')['setDescription']('suggestion')['setRequired'](!![])),async 'execute'(_0x3fc373,_0x298e70){const _0xc7cc2a=_0x24b173;await _0x3fc373[_0xc7cc2a(0x98)]({'ephemeral':!![]});if(config['SuggestionSettings'][_0xc7cc2a(0x99)]===![])return _0x3fc373['editReply']({'content':_0xc7cc2a(0x95),'ephemeral':!![]});let _0xceeb9a=_0x3fc373['options'][_0xc7cc2a(0xa3)]('suggestion');if(config['SuggestionUpvote']['ButtonColor']==='Blurple')config[_0xc7cc2a(0xc8)][_0xc7cc2a(0xa0)]='Primary';if(config['SuggestionUpvote']['ButtonColor']==='Gray')config['SuggestionUpvote'][_0xc7cc2a(0xa0)]=_0xc7cc2a(0xba);if(config['SuggestionUpvote'][_0xc7cc2a(0xa0)]===_0xc7cc2a(0xbb))config['SuggestionUpvote']['ButtonColor']=_0xc7cc2a(0xb7);if(config[_0xc7cc2a(0xc8)][_0xc7cc2a(0xa0)]===_0xc7cc2a(0x93))config['SuggestionUpvote'][_0xc7cc2a(0xa0)]='Danger';if(config[_0xc7cc2a(0xab)]['ButtonColor']==='Blurple')config['SuggestionDownvote']['ButtonColor']='Primary';if(config['SuggestionDownvote'][_0xc7cc2a(0xa0)]==='Gray')config[_0xc7cc2a(0xab)]['ButtonColor']=_0xc7cc2a(0xba);if(config['SuggestionDownvote']['ButtonColor']==='Green')config['SuggestionDownvote']['ButtonColor']='Success';if(config['SuggestionDownvote'][_0xc7cc2a(0xa0)]===_0xc7cc2a(0x93))config[_0xc7cc2a(0xab)]['ButtonColor']='Danger';if(config['SuggestionResetvote'][_0xc7cc2a(0xa0)]==='Blurple')config['SuggestionResetvote'][_0xc7cc2a(0xa0)]='Primary';if(config[_0xc7cc2a(0xb1)]['ButtonColor']===_0xc7cc2a(0xac))config[_0xc7cc2a(0xb1)][_0xc7cc2a(0xa0)]='Secondary';if(config['SuggestionResetvote'][_0xc7cc2a(0xa0)]===_0xc7cc2a(0xbb))config[_0xc7cc2a(0xb1)]['ButtonColor']='Success';if(config[_0xc7cc2a(0xb1)][_0xc7cc2a(0xa0)]===_0xc7cc2a(0x93))config['SuggestionResetvote']['ButtonColor']='Danger';let _0x122f8c=_0x298e70['channels']['cache']['get'](config['SuggestionSettings'][_0xc7cc2a(0xb9)]);if(!_0x122f8c)return _0x3fc373[_0xc7cc2a(0xbd)]({'content':_0xc7cc2a(0xaa),'ephemeral':!![]});let _0x5da0da=_0x3fc373['user'][_0xc7cc2a(0xb3)]({'format':'png','dynamic':!![],'size':0x400});const _0x1f5ba1=new ButtonBuilder()['setCustomId']('upvote')['setLabel'](config[_0xc7cc2a(0xc8)]['ButtonName'])['setStyle'](config[_0xc7cc2a(0xc8)]['ButtonColor'])['setEmoji'](config[_0xc7cc2a(0xc8)][_0xc7cc2a(0xca)]),_0x1a91f6=new ButtonBuilder()['setCustomId'](_0xc7cc2a(0xbf))['setLabel'](config['SuggestionDownvote']['ButtonName'])[_0xc7cc2a(0xc0)](config[_0xc7cc2a(0xab)][_0xc7cc2a(0xa0)])['setEmoji'](config['SuggestionDownvote']['ButtonEmoji']),_0x372b14=new ButtonBuilder()[_0xc7cc2a(0x91)](_0xc7cc2a(0xa8))[_0xc7cc2a(0xc2)](config[_0xc7cc2a(0xb1)]['ButtonName'])[_0xc7cc2a(0xc0)](config[_0xc7cc2a(0xb1)]['ButtonColor'])['setEmoji'](config[_0xc7cc2a(0xb1)]['ButtonEmoji']);let _0x4646b9=new ActionRowBuilder()['addComponents'](_0x1f5ba1,_0x1a91f6,_0x372b14);const _0x42be33=await guildModel[_0xc7cc2a(0x92)]({'guildID':config['GuildID']});let _0x1e189b=new EmbedBuilder();_0x1e189b[_0xc7cc2a(0x9b)](config['SuggestionStatusesEmbedColors'][_0xc7cc2a(0xbc)]),_0x1e189b['setAuthor']({'name':config['Locale']['newSuggestionTitle']+'\x20(#'+_0x42be33[_0xc7cc2a(0xa2)]+')'}),_0x1e189b[_0xc7cc2a(0x9d)]([{'name':'•\x20'+config['Locale'][_0xc7cc2a(0xa5)],'value':'>\x20```'+_0xceeb9a+'```'}]);if(config['SuggestionSettings'][_0xc7cc2a(0xb2)])_0x1e189b['addFields']([{'name':'•\x20'+config['Locale']['suggestionInformation'],'value':'>\x20**'+config[_0xc7cc2a(0xc7)]['suggestionFrom']+'**\x20<@!'+_0x3fc373['user']['id']+_0xc7cc2a(0xa6)+config['Locale']['suggestionUpvotes']+'**\x200\x0a>\x20**'+config['Locale'][_0xc7cc2a(0x96)]+'**\x200\x0a>\x20**'+config['Locale']['suggestionStatus']+'**\x20'+config[_0xc7cc2a(0xc6)]['Pending']}]);if(config['SuggestionSettings']['EnableAcceptDenySystem']===![])_0x1e189b['addFields']([{'name':'•\x20'+config['Locale']['suggestionInformation'],'value':_0xc7cc2a(0x94)+config['Locale'][_0xc7cc2a(0xcb)]+'**\x20<@!'+_0x3fc373['user']['id']+'>\x0a>\x20**'+config[_0xc7cc2a(0xc7)][_0xc7cc2a(0xb6)]+'**\x200\x0a>\x20**'+config[_0xc7cc2a(0xc7)]['suggestionDownvotes']+'**\x200'}]);_0x1e189b['setThumbnail'](_0x5da0da),_0x1e189b['setFooter']({'text':''+_0x3fc373['user'][_0xc7cc2a(0x9f)],'iconURL':''+_0x3fc373[_0xc7cc2a(0xc4)]['displayAvatarURL']({'dynamic':!![]})}),_0x1e189b['setTimestamp']();const _0x4cd3d0=SnowflakeUtil['generate']();if(_0x122f8c)await _0x122f8c['send']({'embeds':[_0x1e189b],'components':[_0x4646b9],'enforceNonce':!![],'nonce':_0x4cd3d0['toString']()})[_0xc7cc2a(0xaf)](async function(_0x2f8ef7){const _0x4707c6=_0xc7cc2a,_0x494bac=new suggestionModel({'msgID':_0x2f8ef7['id'],'userID':_0x3fc373['user']['id'],'suggestion':_0xceeb9a,'upVotes':0x0,'downVotes':0x0,'status':'Pending'});await _0x494bac['save']();if(config['SuggestionSettings'][_0x4707c6(0xa9)])await _0x2f8ef7[_0x4707c6(0xc5)]({'name':_0x3fc373['user']['username']+_0x4707c6(0xc9),'autoArchiveDuration':0x2760,'type':'GUILD_PUBLIC_THREAD'});const _0x1a48ce=await guildModel['findOne']({'guildID':config[_0x4707c6(0xa4)]});_0x1a48ce['totalSuggestions']++,await _0x1a48ce['save']();});_0x3fc373['editReply']({'content':config[_0xc7cc2a(0xc7)][_0xc7cc2a(0xc1)],'ephemeral':!![]});}};