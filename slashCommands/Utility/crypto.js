const _0x1d8f38=_0x1f22;function _0x2bc8(){const _0x3652d9=['This\x20command\x20has\x20been\x20disabled\x20in\x20the\x20config!','Locale','setURL','ChannelID','options','addChoices','setThumbnail','username','./config.yml','setTimestamp','toLowerCase','6246860IjLGIQ','setFooter','{service}','10mHboBw','%3A','displayAvatarURL','replace','getUser','trim','cryptoPayments','OnlyInTicketChannels','load','LTC','49vWmoKu','{price}','utf8','367824gwXSkx','CryptoAddresses','xpnWW','setRequired','price','Description','Currency','215080SFsWHp','USDT','text','BTC','CryptoSettings','{user.username}','No\x20','1284324pGMdtN','AllowedRoles','@discordjs/builders','{user}','findOne','addFields','node-fetch','CurrencySymbol','Utility','addUserOption','send','addNumberOption','cache','value','roles','\x20address\x20specified\x20in\x20the\x20command\x20or\x20config!','setDescription','get','>\x20<@!','crypto','toUpperCase','address','Enabled','ETH','Link','CustomIconURL','cryptoLogTitle','Crypto','Timestamp','logsExecutor','png','addComponents','1013492MQDXrP','2418066KjLHRL','Green','LogsChannelID','9ESsKdp','373899LWUKhl','PayPalUser','readFileSync','editReply','UgHZv','channels','getString','user','Title','CustomThumbnail','Color','EmbedColors','setColor','addStringOption','../../models/ticketModel','>\x0a>\x20','Footer','User'];_0x2bc8=function(){return _0x3652d9;};return _0x2bc8();}(function(_0x321303,_0x5000d5){const _0x452574=_0x1f22,_0x97dab5=_0x321303();while(!![]){try{const _0x124ac8=parseInt(_0x452574(0x1d2))/0x1+-parseInt(_0x452574(0x206))/0x2+parseInt(_0x452574(0x20d))/0x3+parseInt(_0x452574(0x22d))/0x4*(-parseInt(_0x452574(0x1f2))/0x5)+parseInt(_0x452574(0x22e))/0x6+parseInt(_0x452574(0x1fc))/0x7*(parseInt(_0x452574(0x1ff))/0x8)+parseInt(_0x452574(0x1d1))/0x9*(-parseInt(_0x452574(0x1ef))/0xa);if(_0x124ac8===_0x5000d5)break;else _0x97dab5['push'](_0x97dab5['shift']());}catch(_0x29736b){_0x97dab5['push'](_0x97dab5['shift']());}}}(_0x2bc8,0x46494));const {SlashCommandBuilder}=require(_0x1d8f38(0x20f)),{Discord,ActionRowBuilder,EmbedBuilder,ButtonBuilder}=require('discord.js'),fs=require('fs'),yaml=require('js-yaml'),config=yaml['load'](fs['readFileSync'](_0x1d8f38(0x1ec),'utf8')),commands=yaml[_0x1d8f38(0x1fa)](fs[_0x1d8f38(0x1d4)]('./commands.yml',_0x1d8f38(0x1fe))),fetch=require(_0x1d8f38(0x213)),ticketModel=require(_0x1d8f38(0x1e0));function _0x1f22(_0x5b8110,_0x17220c){const _0x2bc8b2=_0x2bc8();return _0x1f22=function(_0x1f226f,_0x198b04){_0x1f226f=_0x1f226f-0x1cf;let _0x3b8b7a=_0x2bc8b2[_0x1f226f];return _0x3b8b7a;},_0x1f22(_0x5b8110,_0x17220c);}module['exports']={'enabled':commands['Utility'][_0x1d8f38(0x228)]['Enabled'],'data':new SlashCommandBuilder()['setName'](_0x1d8f38(0x220))[_0x1d8f38(0x21d)](commands[_0x1d8f38(0x215)][_0x1d8f38(0x228)][_0x1d8f38(0x204)])[_0x1d8f38(0x216)](_0x49e7ab=>_0x49e7ab['setName'](_0x1d8f38(0x1d9))[_0x1d8f38(0x21d)](_0x1d8f38(0x1e3))[_0x1d8f38(0x202)](!![]))['addStringOption'](_0x4322e1=>_0x4322e1['setName']('currency')['setDescription']('Crypto\x20Currency\x20to\x20pay\x20in')[_0x1d8f38(0x1e9)]({'name':'BTC','value':_0x1d8f38(0x209)},{'name':'ETH','value':_0x1d8f38(0x224)},{'name':_0x1d8f38(0x207),'value':'USDT'},{'name':_0x1d8f38(0x1fb),'value':'LTC'})[_0x1d8f38(0x202)](!![]))[_0x1d8f38(0x218)](_0x10d617=>_0x10d617['setName']('price')[_0x1d8f38(0x21d)]('Price\x20in\x20'+config[_0x1d8f38(0x20a)]['Currency'])[_0x1d8f38(0x202)](!![]))[_0x1d8f38(0x1df)](_0x54c30a=>_0x54c30a['setName']('service')['setDescription']('Service')[_0x1d8f38(0x202)](!![]))['addStringOption'](_0x33ed0d=>_0x33ed0d['setName']('address')['setDescription']('Wallet\x20Address')),async 'execute'(_0x353fbd,_0x39bccb){const _0x2b7f44=_0x1d8f38;await _0x353fbd['deferReply']({'ephemeral':!![]});const _0x1f75eb=await ticketModel[_0x2b7f44(0x211)]({'channelID':_0x353fbd['channel']['id']});if(config['CryptoSettings']['Enabled']===![])return _0x353fbd['editReply']({'content':_0x2b7f44(0x1e4),'ephemeral':!![]});if(config['CryptoSettings'][_0x2b7f44(0x1f9)]&&!_0x1f75eb)return _0x353fbd[_0x2b7f44(0x1d5)]({'content':config[_0x2b7f44(0x1e5)]['NotInTicketChannel'],'ephemeral':!![]});let _0x42e85e=![];for(let _0x5d3f20=0x0;_0x5d3f20<config['CryptoSettings'][_0x2b7f44(0x20e)]['length'];_0x5d3f20++){role=_0x353fbd['guild'][_0x2b7f44(0x21b)][_0x2b7f44(0x219)][_0x2b7f44(0x21e)](config[_0x2b7f44(0x20a)]['AllowedRoles'][_0x5d3f20]);if(role&&_0x353fbd['member']['roles'][_0x2b7f44(0x219)]['has'](config['CryptoSettings'][_0x2b7f44(0x20e)][_0x5d3f20]))_0x42e85e=!![];}if(_0x42e85e===![])return _0x353fbd[_0x2b7f44(0x1d5)]({'content':config[_0x2b7f44(0x1e5)]['NoPermsMessage'],'ephemeral':!![]});let _0x228c57=_0x353fbd[_0x2b7f44(0x1e8)][_0x2b7f44(0x1f6)]('user'),_0x37d71b=_0x353fbd['options']['getString']('currency'),_0x59fe9e=_0x353fbd['options']['getNumber'](_0x2b7f44(0x203)),_0x2636d2=_0x353fbd[_0x2b7f44(0x1e8)][_0x2b7f44(0x1d8)]('service'),_0x3b0d09=_0x353fbd[_0x2b7f44(0x1e8)]['getString'](_0x2b7f44(0x222)),_0x7aade3=_0x3b0d09||'';if(!_0x3b0d09&&_0x37d71b===_0x2b7f44(0x209))_0x7aade3=config[_0x2b7f44(0x200)][_0x2b7f44(0x209)]||'';if(!_0x3b0d09&&_0x37d71b==='ETH')_0x7aade3=config[_0x2b7f44(0x200)]['ETH']||'';if(!_0x3b0d09&&_0x37d71b===_0x2b7f44(0x207))_0x7aade3=config[_0x2b7f44(0x200)][_0x2b7f44(0x207)]||'';if(!_0x3b0d09&&_0x37d71b==='LTC')_0x7aade3=config[_0x2b7f44(0x200)]['LTC']||'';if(!_0x7aade3)return _0x353fbd['editReply']({'content':_0x2b7f44(0x20c)+_0x37d71b+_0x2b7f44(0x21c),'ephemeral':!![]});const _0xbc390b=_0x37d71b,_0x4f36eb=config['CryptoSettings'][_0x2b7f44(0x205)],_0xa3aacc=_0x39bccb['cryptoConvert'][_0x4f36eb][_0xbc390b],_0x4d89de=_0x59fe9e,_0x3d8603=_0xa3aacc(_0x4d89de);if(_0x37d71b===_0x2b7f44(0x209))cryptoFullName='bitcoin';if(_0x37d71b==='ETH')cryptoFullName='ethereum';if(_0x37d71b==='USDT')cryptoFullName='tether';if(_0x37d71b==='LTC')cryptoFullName='litecoin';const _0x5432ea=new ActionRowBuilder()[_0x2b7f44(0x22c)](new ButtonBuilder()['setStyle'](_0x2b7f44(0x225))[_0x2b7f44(0x1e6)]('https://quickchart.io/qr?text='+cryptoFullName[_0x2b7f44(0x1ee)]()+_0x2b7f44(0x1f3)+_0x7aade3+'%3Famount='+_0x59fe9e)['setLabel'](config[_0x2b7f44(0x1e5)]['cryptoQRCode'])),_0x4b49db=config['CryptoSettings']['Embed'],_0x44140a=new EmbedBuilder();if(_0x4b49db[_0x2b7f44(0x1da)])_0x44140a['setTitle'](_0x4b49db[_0x2b7f44(0x1da)][_0x2b7f44(0x1f5)]('{seller.username}',_0x353fbd['user']['username'])[_0x2b7f44(0x1f5)]('{user.username}',_0x228c57[_0x2b7f44(0x1eb)])['replace']('{currency}',''+_0x37d71b[_0x2b7f44(0x221)]()));if(_0x4b49db[_0x2b7f44(0x1dc)])_0x44140a['setColor'](_0x4b49db[_0x2b7f44(0x1dc)]);if(!_0x4b49db['Color'])_0x44140a[_0x2b7f44(0x1de)](config[_0x2b7f44(0x1dd)]);if(_0x4b49db[_0x2b7f44(0x204)])_0x44140a['setDescription'](_0x4b49db['Description']);_0x4b49db['ThumbnailEnabled']&&(_0x2b7f44(0x201)!=='xpnWW'?_0x53b74a['Footer'][_0x2b7f44(0x223)]&&_0x5c2aad['Footer'][_0x2b7f44(0x226)]==''&&_0x26de8c[_0x2b7f44(0x1e2)]['IconEnabled']?_0x39e027[_0x2b7f44(0x1f0)]({'text':_0x187199,'iconURL':_0x574d58['displayAvatarURL']({'format':_0x2b7f44(0x22b),'dynamic':!![]})}):_0x17ebe3['setFooter']({'text':_0x3dbd48}):_0x4b49db['CustomThumbnail']&&_0x4b49db['CustomThumbnail']!==''?'dgRCM'===_0x2b7f44(0x1d6)?_0xc362f5[_0x2b7f44(0x1ea)](_0x2c859f['displayAvatarURL']({'format':_0x2b7f44(0x22b),'dynamic':!![]})):_0x44140a['setThumbnail'](_0x4b49db[_0x2b7f44(0x1db)]):_0x44140a['setThumbnail'](_0x228c57[_0x2b7f44(0x1f4)]({'format':'png','dynamic':!![]})));_0x44140a['addFields'](_0x4b49db['Fields']['map'](_0x29eab0=>({'name':_0x29eab0['name'],'value':_0x29eab0[_0x2b7f44(0x21a)]['replace']('{seller}','<@!'+_0x353fbd[_0x2b7f44(0x1d9)]['id']+'>')[_0x2b7f44(0x1f5)]('{seller.username}',_0x353fbd[_0x2b7f44(0x1d9)][_0x2b7f44(0x1eb)])[_0x2b7f44(0x1f5)](_0x2b7f44(0x210),'<@!'+_0x228c57['id']+'>')[_0x2b7f44(0x1f5)]('{user.username}',_0x228c57['username'])[_0x2b7f44(0x1f5)](_0x2b7f44(0x1f1),_0x2636d2)['replace'](_0x2b7f44(0x1fd),_0x3d8603+'\x20('+_0x59fe9e+'\x20'+config['CryptoSettings']['Currency']+')')[_0x2b7f44(0x1f5)]('{address}',''+_0x7aade3)})));_0x4b49db[_0x2b7f44(0x229)]&&_0x44140a['setTimestamp']();const _0x43cbad=_0x4b49db['Footer'][_0x2b7f44(0x208)][_0x2b7f44(0x1f5)](_0x2b7f44(0x20b),_0x228c57['username']);_0x43cbad[_0x2b7f44(0x1f7)]()!==''&&('gTmIw'!=='gTmIw'?_0x9c2e55[_0x2b7f44(0x1ed)]():_0x4b49db['Footer'][_0x2b7f44(0x223)]&&_0x4b49db['Footer']['CustomIconURL']==''&&_0x4b49db['Footer']['IconEnabled']?_0x44140a['setFooter']({'text':_0x43cbad,'iconURL':_0x228c57['displayAvatarURL']({'format':'png','dynamic':!![]})}):_0x44140a['setFooter']({'text':_0x43cbad}));_0x43cbad[_0x2b7f44(0x1f7)]()!==''&&_0x4b49db['Footer'][_0x2b7f44(0x226)]!==''&&_0x4b49db[_0x2b7f44(0x1e2)]['IconEnabled']&&_0x44140a[_0x2b7f44(0x1f0)]({'text':_0x43cbad,'iconURL':_0x4b49db[_0x2b7f44(0x1e2)][_0x2b7f44(0x226)]});_0x353fbd['editReply']({'content':'Successfully\x20created\x20a\x20crypto\x20payment!'}),_0x353fbd['channel'][_0x2b7f44(0x217)]({'embeds':[_0x44140a],'components':[_0x5432ea]});let _0xd0efcd;if(!config[_0x2b7f44(0x1f8)]['ChannelID'])_0xd0efcd=_0x353fbd['guild'][_0x2b7f44(0x1d7)][_0x2b7f44(0x219)]['get'](config['TicketSettings'][_0x2b7f44(0x1d0)]);if(config[_0x2b7f44(0x1f8)]['ChannelID'])_0xd0efcd=_0x353fbd['guild']['channels'][_0x2b7f44(0x219)]['get'](config[_0x2b7f44(0x1f8)][_0x2b7f44(0x1e7)]);const _0x460693=new EmbedBuilder()['setColor'](_0x2b7f44(0x1cf))['setTitle'](config['Locale'][_0x2b7f44(0x227)])[_0x2b7f44(0x212)]([{'name':'•\x20'+config['Locale'][_0x2b7f44(0x22a)],'value':'>\x20<@!'+_0x353fbd['user']['id']+'>\x0a>\x20'+_0x353fbd['user']['username']},{'name':'•\x20'+config['Locale'][_0x2b7f44(0x1d3)],'value':_0x2b7f44(0x21f)+_0x228c57['id']+_0x2b7f44(0x1e1)+_0x228c57[_0x2b7f44(0x1eb)]},{'name':'•\x20'+config['Locale']['PayPalPrice'],'value':'>\x20'+config[_0x2b7f44(0x20a)][_0x2b7f44(0x214)]+_0x59fe9e+'\x0a>\x20'+_0x59fe9e+'\x20'+_0x37d71b},{'name':'•\x20'+config[_0x2b7f44(0x1e5)]['PayPalService'],'value':'>\x20'+_0x2636d2}])['setTimestamp']()[_0x2b7f44(0x1ea)](_0x353fbd['user'][_0x2b7f44(0x1f4)]({'format':'png','dynamic':!![],'size':0x400}))['setFooter']({'text':''+_0x353fbd['user']['username'],'iconURL':''+_0x353fbd[_0x2b7f44(0x1d9)]['displayAvatarURL']({'format':'png','dynamic':!![],'size':0x400})});if(_0xd0efcd&&config['cryptoPayments']['Enabled'])_0xd0efcd['send']({'embeds':[_0x460693]});}};