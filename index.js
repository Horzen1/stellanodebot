const _0x328848=_0x2221;(function(_0x27d6ab,_0xe2f2f9){const _0x344419=_0x2221,_0x49acb5=_0x27d6ab();while(!![]){try{const _0xeb850a=parseInt(_0x344419(0x1a9))/0x1+parseInt(_0x344419(0x1e5))/0x2*(parseInt(_0x344419(0x1e4))/0x3)+parseInt(_0x344419(0x1d9))/0x4+-parseInt(_0x344419(0x1c1))/0x5*(parseInt(_0x344419(0x1de))/0x6)+-parseInt(_0x344419(0x1c3))/0x7+parseInt(_0x344419(0x1d2))/0x8*(parseInt(_0x344419(0x1d0))/0x9)+parseInt(_0x344419(0x1dc))/0xa*(-parseInt(_0x344419(0x1b8))/0xb);if(_0xeb850a===_0xe2f2f9)break;else _0x49acb5['push'](_0x49acb5['shift']());}catch(_0x1adcb7){_0x49acb5['push'](_0x49acb5['shift']());}}}(_0x48a6,0x8a73b));if(process[_0x328848(0x1d6)]!==_0x328848(0x1d5))require('child_process')['exec'](_0x328848(0x1e1));const color=require('ansi-colors'),axios=require('axios');console[_0x328848(0x1a6)](''+color[_0x328848(0x1cf)](_0x328848(0x1c8)));const fs=require('fs'),version=Number(process['version'][_0x328848(0x1b4)]('.')[0x0]['replace']('v',''));if(version<0x12){console['log'](''+color[_0x328848(0x1ab)](_0x328848(0x1c2))),console[_0x328848(0x1a6)](''+color[_0x328848(0x1c0)](_0x328848(0x1e9))),console[_0x328848(0x1a6)](color['green']('-\x20Windows:')+_0x328848(0x1ba)+color[_0x328848(0x1ae)](_0x328848(0x1df))),console['log'](color[_0x328848(0x1ad)]('-\x20Ubuntu/Debian:')+'\x20Run\x20the\x20following\x20commands\x20in\x20the\x20Terminal:'),console['log'](''+color[_0x328848(0x1ae)](_0x328848(0x1dd))),console['log'](''+color['cyan']('\x20\x20-\x20sudo\x20apt\x20upgrade\x20nodejs')),console['log'](color[_0x328848(0x1ad)]('-\x20CentOS:')+'\x20Run\x20the\x20following\x20commands\x20in\x20the\x20Terminal:'),console['log'](''+color['cyan']('\x20\x20-\x20sudo\x20yum\x20update')),console['log'](''+color[_0x328848(0x1ae)](_0x328848(0x1e3)));let logMsg='\x0a\x0a['+new Date()[_0x328848(0x1c7)]()+_0x328848(0x1cc);fs[_0x328848(0x1d3)]('./logs.txt',logMsg,_0x4d581b=>{const _0x46c944=_0x328848;if(_0x4d581b)console[_0x46c944(0x1a6)](_0x4d581b);}),process[_0x328848(0x1d8)]();}const packageFile=require('./package.json');let logMsg=_0x328848(0x1e6)+new Date()[_0x328848(0x1c7)]()+']\x20[STARTING]\x20Attempting\x20to\x20start\x20the\x20bot..\x0aNodeJS\x20Version:\x20'+process['version']+'\x0aBot\x20Version:\x20'+packageFile[_0x328848(0x1b1)];function _0x48a6(){const _0x1b056a=['OMbue','\x20\x20-\x20sudo\x20yum\x20install\x20-y\x20nodejs','1934805ZiYEXd','2fbXZqv','\x0a\x0a[','GuildMessages','WARN','\x0a[INFO]\x20To\x20update\x20Node.js,\x20follow\x20the\x20instructions\x20below\x20for\x20your\x20operating\x20system:','log','――――――――――――――――――――――――――――――――――――','./addons/Dashboard/transcripts','601403TlJwZf','message','red','./transcripts','green','cyan',',\x20Column\x20','TFjDf','version','unhandledRejection','stack','split','appendFileSync','Error\x20reading\x20configuration\x20file:','existsSync','4631rhkTXb','error','\x20Download\x20and\x20run\x20the\x20installer\x20from\x20','./logs.txt','readFile','MessageContent','An\x20error\x20was\x20found\x20in\x20your\x20config.yml\x20file','data','blue','24175aTHUUm','[ERROR]\x20Plex\x20Tickets\x20requires\x20a\x20NodeJS\x20version\x20of\x2018\x20or\x20higher!\x0aYou\x20can\x20check\x20your\x20NodeJS\x20by\x20running\x20the\x20\x22node\x20-v\x22\x20command\x20in\x20your\x20terminal.','2794169OOnQzT','mark','./config.yml','./utils.js','toLocaleString','Starting\x20bot,\x20this\x20can\x20take\x20a\x20while..','Paste\x20Upload\x20failed.','utf8','js-yaml',']\x20[ERROR]\x20Plex\x20Tickets\x20requires\x20a\x20NodeJS\x20version\x20of\x2018\x20or\x20higher!','load','readFileSync','yellow','9yOsdCa','yIotF','8088720jdOQfT','appendFile','DirectMessages','win32','platform','QHkIo','exit','701996YdlWyl','Make\x20sure\x20every\x20line\x20is\x20correctly\x20lined\x20up.','GuildMembers','21860ksJqNc','\x20\x20-\x20sudo\x20apt\x20update','678ngsPvI','https://nodejs.org/','fRqgG','npm\x20install'];_0x48a6=function(){return _0x1b056a;};return _0x48a6();}fs['appendFile']('./logs.txt',logMsg,_0x571ac1=>{if(_0x571ac1)console['log'](_0x571ac1);});const {Collection,Client,Discord,ActionRowBuilder,ButtonBuilder,GatewayIntentBits}=require('discord.js'),yaml=require(_0x328848(0x1cb)),client=new Client({'restRequestTimeout':0xea60,'intents':[GatewayIntentBits['Guilds'],GatewayIntentBits[_0x328848(0x1e7)],GatewayIntentBits[_0x328848(0x1db)],GatewayIntentBits['GuildPresences'],GatewayIntentBits['GuildVoiceStates'],GatewayIntentBits[_0x328848(0x1bd)],GatewayIntentBits[_0x328848(0x1d4)]]});function _0x2221(_0x558ec0,_0x59e06a){const _0x48a639=_0x48a6();return _0x2221=function(_0x22215e,_0x10f1b2){_0x22215e=_0x22215e-0x1a6;let _0x3d5fe7=_0x48a639[_0x22215e];return _0x3d5fe7;},_0x2221(_0x558ec0,_0x59e06a);}let config='';try{config=yaml['load'](fs[_0x328848(0x1ce)](_0x328848(0x1c5),'utf8'));}catch(_0x194dd1){_0x194dd1 instanceof yaml['YAMLException']?(console['error'](color[_0x328848(0x1ab)]('An\x20error\x20was\x20found\x20in\x20your\x20config.yml\x20file'),_0x194dd1['message']),console[_0x328848(0x1b9)](''),console[_0x328848(0x1b9)](color['yellow']('Error\x20position:\x20Line\x20'+(_0x194dd1['mark']['line']+0x1)+',\x20Column\x20'+(_0x194dd1['mark']['column']+0x1))),console['error'](''),console['error'](color['red']('IMPORTANT\x20INFORMATION:')),console['error'](color['yellow']('YAML\x20files\x20are\x20strict\x20about\x20how\x20text\x20is\x20spaced\x20and\x20positioned.')),console['error'](color['yellow'](_0x328848(0x1da))),console['error'](color[_0x328848(0x1cf)]('Use\x20spaces\x20for\x20indentation\x20and\x20keep\x20them\x20consistent.')),console[_0x328848(0x1b9)](color['yellow']('Check\x20that\x20each\x20section\x20starts\x20with\x20the\x20right\x20number\x20of\x20spaces.')),console[_0x328848(0x1b9)](color[_0x328848(0x1cf)]('The\x20message\x20above\x20should\x20display\x20the\x20part\x20that\x20is\x20not\x20formatted\x20properly,\x20and\x20the\x20location.'))):console['error'](color['red'](_0x328848(0x1b6)),_0x194dd1['message']),process['exit'](0x1);}module['exports']=client,require(_0x328848(0x1c6));const utils=require('./utils.js'),createTranscriptFolder=async()=>{const _0x52bde9=_0x328848;let _0x10f1c8=await utils['checkDashboard']();if(config['TicketTranscriptSettings']['SaveInFolder']&&!_0x10f1c8&&!fs['existsSync'](_0x52bde9(0x1ac)))fs['mkdirSync']('./transcripts');if(_0x10f1c8&&!fs[_0x52bde9(0x1b7)]('./addons/Dashboard/transcripts'))fs['mkdirSync'](_0x52bde9(0x1a8));};createTranscriptFolder();async function uploadToHaste(_0x51db41){const _0xc609d8=_0x328848;try{if('yIotF'!==_0xc609d8(0x1d1))_0x1df0df('uncaughtException',_0x3b15df);else{const _0x504b9d=await axios['post']('https://paste.plexdevelopment.net/documents',_0x51db41);return _0x504b9d['data']['key'];}}catch(_0x283249){if(_0xc609d8(0x1e0)!=='fRqgG')_0x421e37['error'](_0x73af4d[_0xc609d8(0x1ab)](_0xc609d8(0x1b6)),_0x24e5c1[_0xc609d8(0x1aa)]);else{if(_0x283249['response'])console['error']('Error\x20uploading\x20to\x20Haste-server.\x20Status:',_0x283249['response']['status']),console['error']('Response\x20data:',_0x283249['response'][_0xc609d8(0x1bf)]);else{if('uCYSD'==='UkEBL'){if(_0x1432a3)_0x543b73['log'](_0x589a38);}else console[_0xc609d8(0x1b9)]('Error\x20uploading\x20to\x20Haste-server:',_0x283249['message']);}return null;}}}const filePath=_0x328848(0x1bb),maxLength=0x12c;async function handleAndUploadError(_0xd01b48,_0x4e419f){const _0x198864=_0x328848;console[_0x198864(0x1a6)](_0x4e419f);const _0x520c36='['+new Date()['toLocaleString']()+']\x20['+_0xd01b48+']\x20[v'+packageFile[_0x198864(0x1b1)]+']',_0x173990='\x0a\x0a'+_0x520c36+'\x0a'+_0x4e419f[_0x198864(0x1b3)];fs[_0x198864(0x1d3)]('./logs.txt',_0x173990,_0x57c04f=>{if(_0x57c04f)console['log'](_0x57c04f);}),fs[_0x198864(0x1bc)](filePath,_0x198864(0x1ca),(_0x45288b,_0x3174df)=>{const _0x482d5f=_0x198864;if('NJYFp'==='NJYFp'){if(_0x45288b){if('TFjDf'!==_0x482d5f(0x1b0))_0x144f50=_0x5b92dc[_0x482d5f(0x1cd)](_0x28625e[_0x482d5f(0x1ce)]('./config.yml','utf8'));else{console['error']('Error\x20reading\x20file:',_0x45288b['message']);return;}}const _0x3e72fb=_0x3174df[_0x482d5f(0x1b4)]('\x0a'),_0x583c7e=_0x3e72fb['length']>maxLength?_0x3e72fb['slice'](-maxLength)['join']('\x0a'):_0x3174df;uploadToHaste(_0x583c7e)['then'](_0x388d8f=>{const _0x187532=_0x482d5f;if(_0x388d8f){if(_0x187532(0x1d7)===_0x187532(0x1e2))_0x117078['error'](_0x21d9a1[_0x187532(0x1ab)](_0x187532(0x1be)),_0x1b7ae3['message']),_0x4382d9['error'](''),_0x2f834a[_0x187532(0x1b9)](_0xe26c77['yellow']('Error\x20position:\x20Line\x20'+(_0x135627['mark']['line']+0x1)+_0x187532(0x1af)+(_0xc248e0[_0x187532(0x1c4)]['column']+0x1))),_0x235992[_0x187532(0x1b9)](''),_0x16cbfd['error'](_0x1a365c['red']('IMPORTANT\x20INFORMATION:')),_0x20cb9a[_0x187532(0x1b9)](_0x3e8aed[_0x187532(0x1cf)]('YAML\x20files\x20are\x20strict\x20about\x20how\x20text\x20is\x20spaced\x20and\x20positioned.')),_0x4f82e8['error'](_0x459232['yellow'](_0x187532(0x1da))),_0x3ea2f0['error'](_0x512315[_0x187532(0x1cf)]('Use\x20spaces\x20for\x20indentation\x20and\x20keep\x20them\x20consistent.')),_0x30d50d[_0x187532(0x1b9)](_0x2d0a76[_0x187532(0x1cf)]('Check\x20that\x20each\x20section\x20starts\x20with\x20the\x20right\x20number\x20of\x20spaces.')),_0xb2bb7['error'](_0x31d2f4[_0x187532(0x1cf)]('The\x20message\x20above\x20should\x20display\x20the\x20part\x20that\x20is\x20not\x20formatted\x20properly,\x20and\x20the\x20location.'));else{const _0xbe7d47='https://paste.plexdevelopment.net/'+_0x388d8f;console['log'](color['green']['bold']('[v'+packageFile['version']+']')+'\x20'+color[_0x187532(0x1ab)]('If\x20you\x20require\x20assistance,\x20create\x20a\x20ticket\x20in\x20our\x20Discord\x20server\x20and\x20share\x20this\x20link:')+'\x20'+color['yellow'](_0xbe7d47)+'\x0a\x0a');}}else console['log'](_0x187532(0x1c9));});}else{if(_0x3c9bca)_0x4e7f26[_0x482d5f(0x1a6)](_0xcf975d);}});}client['on']('warn',async _0x3a7942=>{const _0x4e05e7=_0x328848;handleAndUploadError(_0x4e05e7(0x1e8),_0x3a7942);}),client['on'](_0x328848(0x1b9),async _0x1de1e4=>{handleAndUploadError('ERROR',_0x1de1e4);}),process['on'](_0x328848(0x1b2),async _0x2e099a=>{handleAndUploadError('unhandledRejection',_0x2e099a);}),process['on']('uncaughtException',async _0x1098a9=>{handleAndUploadError('uncaughtException',_0x1098a9);});const {xYs123}=require('./utils.js');async function startBot(){const _0x1030b7=_0x328848;try{await xYs123();}catch(_0x130f85){await console['log']('――――――――――――――――――――――――――――――――――――'),await console[_0x1030b7(0x1a6)]('\x1b[31m%s\x1b[0m','License\x20Authentication\x20failed!'),await console['log'](_0x1030b7(0x1a7)),console['log'](_0x130f85);let _0x16da40='\x0a\x0a['+new Date()['toLocaleString']()+']\x20[ERROR]\x20'+_0x130f85['stack'];fs[_0x1030b7(0x1b5)](_0x1030b7(0x1bb),_0x16da40,_0x5359f5=>{if(_0x5359f5)console['log'](_0x5359f5);}),process['exit'](0x1);}}module['exports']={'startBot':startBot};